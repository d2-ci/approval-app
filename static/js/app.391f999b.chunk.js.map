{"version":3,"file":"static/js/app.391f999b.chunk.js","mappings":"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","sources":["D2App/app-context/app-context.js","webpack://@dhis2/app-shell/./src/D2App/shared/error-message/error-message.module.css?776b","D2App/shared/error-message/error-message.js","D2App/shared/fixed-periods/fixed-periods.js","D2App/shared/loader/loader.js","D2App/shared/approval-status/icons.js","D2App/shared/approval-status/get-approval-status.js","D2App/shared/approval-status/approval-status-tag.js","D2App/shared/approval-status/use-server-date-time-as-local.js","webpack://@dhis2/app-shell/./src/D2App/shared/approval-status/approval-status-icon.module.css?9042","D2App/shared/approval-status/approval-status-icon.js","webpack://@dhis2/app-shell/./src/D2App/shared/retry-button/retry-button.module.css?f87a","D2App/shared/retry-button/retry-button.js","D2App/app-context/app-provider.js","D2App/app-context/use-app-context.js","D2App/auth/use-is-authorized.js","D2App/auth/auth-wall.js","D2App/workflow-context/workflow-context.js","D2App/selection-context/selection-context.js","D2App/navigation/create-href.js","D2App/navigation/history.js","D2App/selection-context/initial-values.js","D2App/navigation/read-query-params.js","D2App/selection-context/selection-provider.js","D2App/navigation/push-state-to-history.js","D2App/selection-context/use-selection-context.js","D2App/workflow-context/workflow-provider.js","D2App/workflow-context/use-workflow-context.js","D2App/bottom-bar/accept-button/use-accept-data.js","D2App/bottom-bar/accept-button/accept-button.js","webpack://@dhis2/app-shell/./src/D2App/bottom-bar/approve-button/approve-modal/approve-modal.module.css?e3dc","D2App/bottom-bar/approve-button/approve-modal/approve-modal.js","D2App/bottom-bar/approve-button/use-approve-data.js","D2App/bottom-bar/approve-button/approve-button.js","webpack://@dhis2/app-shell/./src/D2App/bottom-bar/bottom-bar-item.module.css?9b9c","D2App/bottom-bar/bottom-bar-item.js","webpack://@dhis2/app-shell/./src/D2App/bottom-bar/bottom-bar.module.css?44d3","D2App/bottom-bar/unaccept-button/use-unaccept-data.js","D2App/bottom-bar/unaccept-button/unaccept-button.js","D2App/bottom-bar/unapprove-button/use-unapprove-data.js","D2App/bottom-bar/unapprove-button/unapprove-button.js","D2App/bottom-bar/bottom-bar.js","D2App/data-workspace/data-set-navigation/data-set-navigation.js","webpack://@dhis2/app-shell/./src/D2App/data-workspace/display/display.module.css?ab8f","webpack://@dhis2/app-shell/./src/D2App/data-workspace/display/table.module.css?d8a9","D2App/data-workspace/display/table.js","D2App/data-workspace/display/display.js","webpack://@dhis2/app-shell/./src/D2App/data-workspace/title-bar/title-bar.module.css?64de","D2App/data-workspace/title-bar/title-bar.js","D2App/data-workspace/data-workspace.js","D2App/data-workspace/use-selected-data-set/use-selected-data-set.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/clear-all-button/clear-all-button.module.css?0790","D2App/top-bar/clear-all-button/clear-all-button.js","D2App/top-bar/org-unit-select/approval-statuses.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/context-select/context-select.module.css?17f1","D2App/top-bar/context-select/context-select.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/org-unit-select/approval-status-icons-legend.module.css?69d4","D2App/top-bar/org-unit-select/approval-status-icons-legend.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/org-unit-select/approval-status-label.module.css?6f50","D2App/top-bar/org-unit-select/approval-status-label.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/org-unit-select/org-unit-select.module.css?9133","D2App/top-bar/org-unit-select/org-unit-select.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/period-select/period-menu.module.css?839c","D2App/top-bar/period-select/period-menu.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/period-select/year-navigator.module.css?9bf5","D2App/top-bar/period-select/year-navigator.js","D2App/top-bar/period-select/period-select.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/workflow-select/workflow-select-option.module.css?8bdb","D2App/top-bar/workflow-select/workflow-select-option.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/workflow-select/workflow-select.module.css?792f","D2App/top-bar/workflow-select/workflow-select.js","D2App/top-bar/top-bar.js","webpack://@dhis2/app-shell/./src/D2App/app/layout.module.css?9d6e","D2App/app/layout.js","D2App/locales/index.js","D2App/app/index.js","D2App/app/app.js"],"sourcesContent":["import { createContext } from 'react';\nconst AppContext = /*#__PURE__*/createContext({\n  authorities: [],\n  organisationUnits: [],\n  dataApprovalWorkflows: []\n});\nexport { AppContext };","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"error-message_wrapper__mu8be\"};","import { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './error-message.module.css';\n\nconst ErrorMessage = ({\n  children,\n  title\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: classes.wrapper\n}, /*#__PURE__*/React.createElement(NoticeBox, {\n  error: true,\n  title: title\n}, children));\n\nErrorMessage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport { ErrorMessage };","import i18n from '@dhis2/d2-i18n';\n/*\n * This code is copied from the analytics repo as a temporary solution.\n * https://github.com/dhis2/analytics/tree/master/src/components/PeriodDimension/utils\n * In the long term, this period related logic should be moved into its own repo, see:\n * https://jira.dhis2.org/browse/LIBS-193\n * The following changes to the code in the anaytics repo have been implemented:\n *   A. Renamed period-CODE to period-ID\n *   B. Adjusted period type names (values) to match the names in the response from `api/periodTypes`\n *   C. Adjusted period type variable names to equivalent of B, but in UPPER_SNAKE_CASE\n * IMO these changes should be implemented in the period package too\n */\n// Period types\n\nconst DAILY = 'Daily';\nconst WEEKLY = 'Weekly';\nconst WEEKLY_WEDNESDAY = 'WeeklyWednesday';\nconst WEEKLY_THURSDAY = 'WeeklyThursday';\nconst WEEKLY_SATURDAY = 'WeeklySaturday';\nconst WEEKLY_SUNDAY = 'WeeklySunday';\nconst BI_WEEKLY = 'BiWeekly';\nconst MONTHLY = 'Monthly';\nconst BI_MONTHLY = 'BiMonthly';\nconst QUARTERLY = 'Quarterly';\nconst SIX_MONTHLY = 'SixMonthly';\nconst SIX_MONTHLY_APRIL = 'SixMonthlyApril'; // const SIX_MONTHLY_NOV = 'SixMonthlyNov'\n\nconst YEARLY = 'Yearly';\nconst FINANCIAL_APRIL = 'FinancialApril';\nconst FINANCIAL_JULY = 'FinancialJuly';\nconst FINANCIAL_OCT = 'FinancialOct';\nconst FINANCIAL_NOV = 'FinancialNov';\nconst PERIOD_TYPES = new Set([DAILY, WEEKLY, WEEKLY_WEDNESDAY, WEEKLY_THURSDAY, WEEKLY_SATURDAY, WEEKLY_SUNDAY, BI_WEEKLY, MONTHLY, BI_MONTHLY, QUARTERLY, SIX_MONTHLY, SIX_MONTHLY_APRIL, YEARLY, FINANCIAL_APRIL, FINANCIAL_JULY, FINANCIAL_OCT, FINANCIAL_NOV]);\nexport const isValidPeriodType = periodType => PERIOD_TYPES.has(periodType);\n\nconst getMonthName = key => {\n  const monthNames = [i18n.t('January'), i18n.t('February'), i18n.t('March'), i18n.t('April'), i18n.t('May'), i18n.t('June'), i18n.t('July'), i18n.t('August'), i18n.t('September'), i18n.t('October'), i18n.t('November'), i18n.t('December')];\n  return monthNames[key];\n};\n/**\n * Initialise a Date instance with Date.now() for Jest mocking.\n * This can be removed once we upgrade Jest to a verion which\n * supports `jest.setSystemTime`.\n */\n\n\nconst getCurrentDate = () => new Date(Date.now());\n\nexport const getYearWithOffset = offset => {\n  const offsetInt = parseInt(offset, 10) || 0;\n  return getCurrentDate().getFullYear() + offsetInt;\n};\n\nconst getDailyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`01 Jan ${year}`);\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.startDate = formatYyyyMmDd(date);\n      period.endDate = period.startDate;\n      period.displayName = period.startDate;\n      period.iso = period.startDate.replace(/-/g, '');\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(date.getDate() + 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getWeeklyPeriodType = (formatYyyyMmDd, weekObj, fnFilter) => {\n  // Calculate the first date of an EPI year base on ISO standard  ( first week always contains 4th Jan )\n  const getEpiWeekStartDay = (year, startDayOfWeek = 1) => {\n    const jan4 = new Date(year, 0, 4);\n    const jan4DayOfWeek = jan4.getDay();\n    const startDate = jan4;\n    const dayDiff = jan4DayOfWeek - startDayOfWeek;\n\n    if (dayDiff > 0) {\n      startDate.setDate(jan4.getDate() - dayDiff);\n    } else if (dayDiff < 0) {\n      startDate.setDate(jan4.getDate() - dayDiff);\n      startDate.setDate(startDate.getDate() - 7);\n    }\n\n    return startDate;\n  };\n\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = getEpiWeekStartDay(year, weekObj.startDay);\n    let week = 1;\n\n    while (date.getFullYear() <= year) {\n      const period = {};\n      period.startDate = formatYyyyMmDd(date);\n      period.iso = `${year}${weekObj.shortName}W${week}`;\n      period.id = period.iso;\n      date.setDate(date.getDate() + 6);\n      period.endDate = formatYyyyMmDd(date);\n      const weekNumber = week;\n      period.displayName = `${i18n.t('Week {{weekNumber}}', {\n        weekNumber\n      })} - ${period.startDate} - ${period.endDate}`; // if end date is Jan 4th or later, week belongs to next year\n\n      if (date.getFullYear() > year && date.getDate() >= 4) {\n        break;\n      }\n\n      periods.push(period);\n      date.setDate(date.getDate() + 1);\n      week += 1;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getBiWeeklyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`01 Jan ${year}`);\n    const day = date.getDay();\n    let biWeek = 1;\n\n    if (day <= 4) {\n      date.setDate(date.getDate() - (day - 1));\n    } else {\n      date.setDate(date.getDate() + (8 - day));\n    }\n\n    while (date.getFullYear() <= year) {\n      const period = {};\n      period.iso = `${year}BiW${biWeek}`;\n      period.id = period.iso;\n      period.startDate = formatYyyyMmDd(date);\n      date.setDate(date.getDate() + 13);\n      period.endDate = formatYyyyMmDd(date);\n      const biWeekNumber = biWeek;\n      period.displayName = `${i18n.t('Bi-Week {{biWeekNumber}}', {\n        biWeekNumber\n      })} - ${period.startDate} - ${period.endDate}`; // if end date is Jan 4th or later, biweek belongs to next year\n\n      if (date.getFullYear() > year && date.getDate() >= 4) {\n        break;\n      }\n\n      periods.push(period);\n      date.setDate(date.getDate() + 1);\n      biWeek += 1;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getMonthlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  const formatIso = date => {\n    const y = date.getFullYear();\n    let m = String(date.getMonth() + 1);\n    m = m.length < 2 ? `0${m}` : m;\n    return y + m;\n  };\n\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`31 Dec ${year}`);\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setDate(1);\n      period.startDate = formatYyyyMmDd(date);\n      const monthName = getMonthName(date.getMonth());\n      period.displayName = `${monthName} ${year}`;\n      period.iso = formatIso(date);\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(0);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Months are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getBiMonthlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`31 Dec ${year}`);\n    let index = 6;\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setDate(0);\n      date.setDate(1);\n      period.startDate = formatYyyyMmDd(date);\n      const monthStart = getMonthName(date.getMonth());\n      const monthEnd = getMonthName(date.getMonth() + 1);\n      const fullYear = date.getFullYear();\n      period.displayName = `${monthStart} - ${monthEnd} ${fullYear}`;\n      period.iso = `${year}0${index}B`;\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(0);\n      index--;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Bi-months are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getQuarterlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`31 Dec ${year}`);\n    let quarter = 4;\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setDate(0);\n      date.setDate(0);\n      date.setDate(1);\n      period.startDate = formatYyyyMmDd(date);\n      const monthStart = getMonthName(date.getMonth());\n      const monthEnd = getMonthName(date.getMonth() + 2);\n      const fullYear = date.getFullYear();\n      period.displayName = `${monthStart} - ${monthEnd} ${fullYear}`;\n      period.iso = `${year}Q${quarter}`;\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(0);\n      quarter -= 1;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Quarters are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getSixMonthlyPeriodType = fnFilter => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    let period = {};\n    period.startDate = `${year}-01-01`;\n    period.endDate = `${year}-06-30`;\n    period.displayName = `${getMonthName(0)} - ${getMonthName(5)} ${year}`;\n    period.iso = `${year}S1`;\n    period.id = period.iso;\n    periods.push(period);\n    period = {};\n    period.startDate = `${year}-07-01`;\n    period.endDate = `${year}-12-31`;\n    period.displayName = `${getMonthName(6)} - ${getMonthName(11)} ${year}`;\n    period.iso = `${year}S2`;\n    period.id = period.iso;\n    periods.push(period);\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getSixMonthlyAprilPeriodType = fnFilter => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    let period = {};\n    period.startDate = `${year}-04-01`;\n    period.endDate = `${year}-09-30`;\n    period.displayName = `${getMonthName(3)} - ${getMonthName(8)} ${year}`;\n    period.iso = `${year}AprilS1`;\n    period.id = period.iso;\n    periods.push(period);\n    period = {};\n    period.startDate = `${year}-10-01`;\n    period.endDate = `${year + 1}-03-31`;\n    period.displayName = `${getMonthName(9)} ${year} - ${getMonthName(2)} ${year + 1}`;\n    period.iso = `${year}AprilS2`;\n    period.id = period.iso;\n    periods.push(period);\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getYearlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`31 Dec ${year}`);\n\n    while (year - date.getFullYear() < 10) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setMonth(0, 1);\n      period.startDate = formatYyyyMmDd(date);\n      const dateString = date.getFullYear().toString();\n      period.displayName = dateString;\n      period.iso = date.getFullYear().toString();\n      period.id = period.iso.toString();\n      periods.push(period);\n      date.setDate(0);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Years are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialOctoberPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`30 Sep ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(9)} ${yearStart} - ${getMonthName(8)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}Oct`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialOctober periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialNovemberPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`31 Oct ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(10)} ${yearStart} - ${getMonthName(9)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}Nov`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialNovember periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialJulyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`30 Jun ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(6)} ${yearStart} - ${getMonthName(5)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}July`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialJuly periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialAprilPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = getYearWithOffset(config.offset);\n    const date = new Date(`31 Mar ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(3)} ${yearStart} - ${getMonthName(2)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}April`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialApril periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst defaultFormatYyyyMmDd = date => {\n  const y = date.getFullYear();\n  let m = String(date.getMonth() + 1);\n  let d = String(date.getDate());\n  m = m.length < 2 ? `0${m}` : m;\n  d = d.length < 2 ? `0${d}` : d;\n  return `${y}-${m}-${d}`;\n};\n\nconst defaultFilterFuturePeriods = periods => {\n  const array = [];\n  const now = getCurrentDate();\n\n  for (let i = 0; i < periods.length; i++) {\n    if (new Date(periods[i].startDate) <= now) {\n      array.push(periods[i]);\n    }\n  }\n\n  return array;\n};\n\nexport const getFixedPeriodTypes = ({\n  formatYyyyMmDd = defaultFormatYyyyMmDd,\n  filterFuturePeriods = defaultFilterFuturePeriods\n} = {}) => [{\n  type: DAILY,\n  regex: /^([0-9]{4})([0-9]{2})([0-9]{2})$/,\n  // YYYYMMDD\n  getPeriods: getDailyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Daily')\n}, {\n  type: WEEKLY,\n  regex: /^([0-9]{4})()W([0-9]{1,2})$/,\n  // YYYY\"W\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: '',\n    startDay: 1\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly')\n}, {\n  type: WEEKLY_WEDNESDAY,\n  regex: /^([0-9]{4})(Wed)W([0-9]{1,2})$/,\n  // YYYY\"WedW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Wed',\n    startDay: 3\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Wednesday)')\n}, {\n  type: WEEKLY_THURSDAY,\n  regex: /^([0-9]{4})(Thu)W([0-9]{1,2})$/,\n  // YYYY\"ThuW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Thu',\n    startDay: 4\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Thursday)')\n}, {\n  type: WEEKLY_SATURDAY,\n  regex: /^([0-9]{4})(Sat)W([0-9]{1,2})$/,\n  // YYYY\"SatW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Sat',\n    startDay: 6\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Saturday)')\n}, {\n  type: WEEKLY_SUNDAY,\n  regex: /^([0-9]{4})(Sun)W([0-9]{1,2})$/,\n  // YYYY\"SunW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Sun',\n    startDay: 7\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Sunday)')\n}, {\n  type: BI_WEEKLY,\n  regex: /^([0-9]{4})BiW([0-9]{1,2})$/,\n  // YYYY\"BiW\"[1-27]\n  getPeriods: getBiWeeklyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Bi-weekly')\n}, {\n  type: MONTHLY,\n  regex: /^([0-9]{4})([0-9]{2})$/,\n  // YYYYMM\n  getPeriods: getMonthlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Monthly')\n}, {\n  type: BI_MONTHLY,\n  regex: /^([0-9]{4})([0-9]{2})B$/,\n  // YYYY0[1-6]\"B\"\n  getPeriods: getBiMonthlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Bi-monthly')\n}, {\n  type: QUARTERLY,\n  regex: /^([0-9]{4})Q([1234])$/,\n  // YYYY\"Q\"[1-4]\n  getPeriods: getQuarterlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Quarterly')\n}, {\n  type: SIX_MONTHLY,\n  regex: /^([0-9]{4})S([12])$/,\n  // YYYY\"S\"[1/2]\n  getPeriods: getSixMonthlyPeriodType(filterFuturePeriods),\n  displayName: i18n.t('Six-monthly')\n}, {\n  type: SIX_MONTHLY_APRIL,\n  regex: /^([0-9]{4})AprilS([12])$/,\n  // YYYY\"AprilS\"[1/2]\n  getPeriods: getSixMonthlyAprilPeriodType(filterFuturePeriods),\n  displayName: i18n.t('Six-monthly April')\n}, {\n  type: YEARLY,\n  regex: /^([0-9]{4})$/,\n  // YYYY\n  getPeriods: getYearlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Yearly')\n}, {\n  type: FINANCIAL_NOV,\n  regex: /^([0-9]{4})Nov$/,\n  // YYYY\"Nov\"\n  getPeriods: getFinancialNovemberPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start November)')\n}, {\n  type: FINANCIAL_OCT,\n  regex: /^([0-9]{4})Oct$/,\n  // YYYY\"Oct\"\n  getPeriods: getFinancialOctoberPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start October)')\n}, {\n  type: FINANCIAL_JULY,\n  regex: /^([0-9]{4})July$/,\n  // YYYY\"July\"\n  getPeriods: getFinancialJulyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start July)')\n}, {\n  type: FINANCIAL_APRIL,\n  regex: /^([0-9]{4})April$/,\n  // YYYY\"April\"\n  getPeriods: getFinancialAprilPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start April)')\n}];\nexport const getFixedPeriodType = ({\n  periodType,\n  formatYyyyMmDd,\n  filterFuturePeriods\n}) => {\n  if (!isValidPeriodType(periodType)) {\n    throw new Error(`Invalid period type \"${periodType}\" supplied to \"getFixedPeriodType\"`);\n  }\n\n  const periodTypeObj = getFixedPeriodTypes({\n    formatYyyyMmDd,\n    filterFuturePeriods\n  }).find(({\n    type\n  }) => type === periodType);\n\n  if (!periodTypeObj) {\n    /**\n     * This error suggests the list of period types at the top of this file\n     * contains a period type name which has not been implemented yet in\n     * getFixedPeriodTypes\n     */\n    throw new Error(`Could not find periodType object for \"${periodType}\"`);\n  }\n\n  return periodTypeObj;\n};\nexport const getYearOffsetFromNow = year => {\n  const yearInt = parseInt(year, 10);\n\n  if (!Number.isInteger(yearInt)) {\n    throw new Error(`Invalid year \"${year}\" passed to \"getYearOffsetFromNow\"`);\n  }\n\n  return yearInt - getCurrentDate().getFullYear();\n};\nexport const getFixedPeriodsByTypeAndYear = ({\n  periodType,\n  year,\n  formatYyyyMmDd,\n  filterFuturePeriods,\n  config\n}) => {\n  const fixedPeriod = getFixedPeriodType({\n    periodType,\n    formatYyyyMmDd,\n    filterFuturePeriods\n  });\n  const offset = getYearOffsetFromNow(year);\n  return fixedPeriod && Number.isInteger(offset) ? fixedPeriod.getPeriods({ ...config,\n    offset\n  }) : [];\n};\nexport const parsePeriodId = (id, allowedTypes) => {\n  const periodTypes = allowedTypes ? getFixedPeriodTypes().filter(({\n    type\n  }) => allowedTypes.some(allowedType => allowedType === type)) : getFixedPeriodTypes();\n  let i = 0;\n  let periodType = undefined;\n  let match = undefined;\n\n  while (i < periodTypes.length && !match) {\n    periodType = periodTypes[i];\n    match = id.match(periodType.regex);\n    i++;\n  }\n\n  if (!match) {\n    return null;\n  }\n\n  const year = parseInt(match[1], 10);\n  const offset = getYearOffsetFromNow(year);\n  const periods = periodType.getPeriods({\n    offset\n  });\n  const period = periods.find(period => period.id === id);\n  return { ...period,\n\n    /*\n     * Add year and periodType so a parsed period code\n     * can be use for a multitude of purposes\n     */\n    year,\n    periodType\n  };\n};\n\nconst isValidDate = date => !isNaN(date.getTime());\n\nexport const getFixedPeriodsForTypeAndDateRange = (periodType, startDate, endDate) => {\n  // Allow dates and date-strings\n  startDate = new Date(startDate);\n  endDate = new Date(endDate);\n\n  if (!isValidDate(startDate)) {\n    throw new Error('Invalid startDate provided to getFixedPeriodsForTypeAndDateRange');\n  }\n\n  if (!isValidDate(endDate)) {\n    throw new Error('Invalid endDate provided to getFixedPeriodsForTypeAndDateRange');\n  }\n\n  let year = endDate.getFullYear();\n  let startDateReached = false;\n  const convertedPeriods = [];\n\n  while (!startDateReached) {\n    getFixedPeriodsByTypeAndYear({\n      periodType,\n      year\n    }).reverse().forEach(period => {\n      const periodEnd = new Date(period.endDate); // exclude periods that end before start date\n\n      const endsAfterPeriodStart = periodEnd >= startDate; // exclude periods that end after end date\n\n      const endsBeforePeriodEnd = periodEnd <= endDate;\n\n      if (!endsAfterPeriodStart) {\n        startDateReached = true;\n      }\n\n      if (endsAfterPeriodStart && endsBeforePeriodEnd) {\n        convertedPeriods.push(period);\n      }\n    });\n    --year;\n  }\n\n  return convertedPeriods.reverse();\n};\nexport const getMostRecentCompletedYear = periodType => {\n  if (!isValidPeriodType(periodType)) {\n    throw new Error(`Invalid periodType \"${periodType}\" supplied to \"getMostRecentCompletedYear\"`);\n  }\n\n  const endDate = getCurrentDate();\n  let year = endDate.getFullYear();\n  let periods = getFixedPeriodsForTypeAndDateRange(periodType, `${endDate.getFullYear()}-01-01`, endDate);\n\n  if (periods.length > 0) {\n    return year;\n  } else {\n    /**\n     * Practically speaking we could also just return `year - 1` here\n     * but this logic would allow for periods to span over multiple years\n     */\n    while (periods.length === 0) {\n      --year;\n      periods = getFixedPeriodsForTypeAndDateRange(periodType, `${year}-01-01`, `${year}-12-31`);\n    }\n\n    return year;\n  }\n};","import { CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\n\nconst Loader = () => /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n\nexport { Loader };","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Approved = ({\n  color\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  width: \"16\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  color: color\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m7 10.707-2.5-2.5005.7065-.7065 1.7935 1.793 3.7925-3.793.7075.7075zm1-9.707c-3.86599325 0-7 3.13400675-7 7 0 3.8659932 3.13400675 7 7 7 3.8659932 0 7-3.1340068 7-7 0-1.85651543-.7374979-3.63699282-2.0502525-4.94974747-1.3127547-1.31275465-3.09323207-2.05025253-4.9497475-2.05025253zm0 13c-3.3137085 0-6-2.6862915-6-6s2.6862915-6 6-6 6 2.6862915 6 6c0 1.59129894-.632141 3.1174224-1.7573593 4.2426407s-2.65134176 1.7573593-4.2426407 1.7573593z\",\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n}));\n\nApproved.propTypes = {\n  color: PropTypes.string\n};\n\nconst Ready = ({\n  color\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  width: \"16\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  color: color\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m8 1c-.46686 0-.92352.04577-1.36559.13323l.19407.98099c.3785-.07488.77017-.11422 1.17152-.11422s.79302.03934 1.17152.11422l.19407-.98099c-.44207-.08746-.89873-.13323-1.36559-.13323zm-3.88966 1.17934c-.76315.51091-1.42009 1.16785-1.931 1.931l.83097.55632c.43819-.65453 1.00182-1.21816 1.65635-1.65635zm9.71036 1.931c-.511-.76315-1.1679-1.42009-1.931-1.931l-.5564.83097c.6546.43819 1.2182 1.00182 1.6564 1.65635zm1.1793 3.88966c0-.46686-.0458-.92352-.1332-1.36559l-.981.19407c.0749.3785.1142.77017.1142 1.17152s-.0393.79302-.1142 1.17152l.981.19407c.0874-.44207.1332-.89873.1332-1.36559zm-13.86677-1.36559c-.08746.44207-.13323.89873-.13323 1.36559s.04577.92352.13323 1.36559l.98099-.19407c-.07488-.3785-.11422-.77017-.11422-1.17152s.03934-.79302.11422-1.17152zm1.04611 5.25529c.51091.7631 1.16785 1.42 1.931 1.931l.55632-.831c-.65453-.4382-1.21816-1.0018-1.65635-1.6564zm9.71036 1.931c.7631-.511 1.42-1.1679 1.931-1.931l-.831-.5564c-.4382.6546-1.0018 1.2182-1.6564 1.6564zm-5.25529 1.0461c.44207.0874.89873.1332 1.36559.1332s.92352-.0458 1.36559-.1332l-.19407-.981c-.3785.0749-.77017.1142-1.17152.1142s-.79302-.0393-1.17152-.1142zm3.36559-6.8668c0 1.10457-.89543 2-2 2s-2-.89543-2-2 .89543-2 2-2 2 .89543 2 2zm1 0c0 1.65685-1.34315 3-3 3s-3-1.34315-3-3 1.34315-3 3-3 3 1.34315 3 3z\",\n  fill: \"currentColor\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}));\n\nReady.propTypes = {\n  color: PropTypes.string\n};\n\nconst Waiting = ({\n  color\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  width: \"16\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  color: color\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 2H4H5H11H12H13V3H12V6.20711L10.2071 8L12 9.79289V13H13V14H12H11H5H4H3V13H4V9.79289L5.79289 8L4 6.20711V3H3V2ZM5 13H11V10.2071L8.79289 8L11 5.79289V3H5V5.79289L7.20711 8L5 10.2071V13Z\",\n  fill: \"currentColor\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}));\n\nWaiting.propTypes = {\n  color: PropTypes.string\n};\nexport { Approved, Ready, Waiting };","import i18n from '@dhis2/d2-i18n';\nimport { IconBlock16, IconError16 } from '@dhis2/ui';\nimport moment from 'moment';\nimport { Approved, Ready, Waiting } from './icons.js';\nconst APPROVAL_STATUSES = {\n  UNAPPROVED_READY: 'UNAPPROVED_READY',\n  ACCEPTED_HERE: 'ACCEPTED_HERE',\n  UNAPPROVED_WAITING: 'UNAPPROVED_WAITING',\n  UNAPPROVED_ABOVE: 'UNAPPROVED_ABOVE',\n  APPROVED_HERE: 'APPROVED_HERE',\n  APPROVED_ABOVE: 'APPROVED_ABOVE',\n  UNAPPROVABLE: 'UNAPPROVABLE',\n  UNAUTHORIZED: 'UNAUTHORIZED',\n  LOADING: 'LOADING',\n  ERROR: 'ERROR'\n};\n\nconst getApprovalStatusIcon = approvalStatus => {\n  switch (approvalStatus) {\n    case APPROVAL_STATUSES.UNAPPROVED_READY:\n      return {\n        icon: Ready,\n        type: 'neutral'\n      };\n\n    case APPROVAL_STATUSES.UNAPPROVED_WAITING:\n    case APPROVAL_STATUSES.UNAPPROVED_ABOVE:\n      return {\n        icon: Waiting,\n        type: 'default'\n      };\n\n    case APPROVAL_STATUSES.ACCEPTED_HERE:\n    case APPROVAL_STATUSES.APPROVED_HERE:\n    case APPROVAL_STATUSES.APPROVED_ABOVE:\n      return {\n        icon: Approved,\n        type: 'positive'\n      };\n\n    case APPROVAL_STATUSES.UNAPPROVABLE:\n    case APPROVAL_STATUSES.UNAUTHORIZED:\n      return {\n        icon: IconBlock16,\n        type: 'negative'\n      };\n\n    case APPROVAL_STATUSES.ERROR:\n      return {\n        icon: IconError16,\n        type: 'negative'\n      };\n\n    default:\n      throw new Error(`Unknown approval status: '${approvalStatus}'`);\n  }\n};\n\nconst getApprovalStatusText = ({\n  approvalStatus,\n  approvalDateTime,\n  approvedBy\n}) => {\n  switch (approvalStatus) {\n    case APPROVAL_STATUSES.UNAPPROVED_READY:\n      return i18n.t('Ready for approval');\n\n    case APPROVAL_STATUSES.UNAPPROVED_WAITING:\n      return i18n.t('Waiting for lower level approval');\n\n    case APPROVAL_STATUSES.UNAPPROVED_ABOVE:\n      return i18n.t('Waiting for higher level approval');\n\n    case APPROVAL_STATUSES.ACCEPTED_HERE:\n      return i18n.t('Approval by {{- name}} accepted {{timeAgo}}', {\n        name: approvedBy,\n        timeAgo: moment(approvalDateTime).fromNow()\n      });\n\n    case APPROVAL_STATUSES.APPROVED_HERE:\n      return i18n.t('Approved by {{- name}} {{timeAgo}}', {\n        name: approvedBy,\n        timeAgo: moment(approvalDateTime).fromNow()\n      });\n\n    case APPROVAL_STATUSES.APPROVED_ABOVE:\n      return i18n.t('Approved at higher level');\n\n    case APPROVAL_STATUSES.UNAUTHORIZED:\n      return i18n.t('You do not have authority to approve data');\n\n    case APPROVAL_STATUSES.UNAPPROVABLE:\n      return i18n.t('Cannot be approved');\n\n    case APPROVAL_STATUSES.ERROR:\n      return i18n.t('Could not retrieve approval status');\n\n    default:\n      throw new Error(`Unknown approval status: '${approvalStatus}'`);\n  }\n};\n\nconst isApproved = approvalStatus => approvalStatus === APPROVAL_STATUSES.APPROVED_HERE || approvalStatus === APPROVAL_STATUSES.APPROVED_ABOVE;\n\nconst getApprovalStatusDisplayData = ({\n  approvalStatus,\n  approvalDateTime,\n  approvedBy\n}) => {\n  const displayName = getApprovalStatusText({\n    approvalStatus,\n    approvalDateTime,\n    approvedBy\n  });\n  const {\n    icon,\n    type\n  } = getApprovalStatusIcon(approvalStatus);\n  return {\n    displayName,\n    icon,\n    type\n  };\n};\n\nexport { APPROVAL_STATUSES, getApprovalStatusDisplayData, isApproved };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Tag, Tooltip } from '@dhis2/ui';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getApprovalStatusDisplayData, isApproved, APPROVAL_STATUSES } from './get-approval-status.js';\nimport { useServerDateTimeAsLocal } from './use-server-date-time-as-local.js';\n\nconst ApprovalStatusTag = ({\n  approvalStatus,\n  approvedAt,\n  approvedBy\n}) => {\n  const approvalDateTime = useServerDateTimeAsLocal(approvedAt);\n  const {\n    icon: Icon,\n    displayName,\n    type\n  } = getApprovalStatusDisplayData({\n    approvalStatus,\n    approvalDateTime,\n    approvedBy\n  });\n  const props = {\n    [type]: true,\n    icon: /*#__PURE__*/React.createElement(Icon, null)\n  };\n  const shouldRenderTooltip = isApproved(approvalStatus) && approvedAt;\n  const tag = /*#__PURE__*/React.createElement(Tag, _extends({}, props, {\n    maxWidth: \"auto\"\n  }), displayName);\n\n  if (!shouldRenderTooltip) {\n    return tag;\n  }\n\n  const dateTimeStr = moment(approvalDateTime).format('LLL');\n  const tooltipContent = i18n.t('Approved {{- dateTimeStr}}', {\n    dateTimeStr\n  });\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    content: tooltipContent\n  }, tag);\n};\n\nApprovalStatusTag.propTypes = {\n  approvalStatus: PropTypes.oneOf(Object.values(APPROVAL_STATUSES)),\n  approvedAt: PropTypes.string,\n  approvedBy: PropTypes.string\n};\nexport { ApprovalStatusTag };","import { useConfig } from '@dhis2/app-runtime';\nexport const useServerDateTimeAsLocal = dateTime => {\n  const {\n    systemInfo\n  } = useConfig();\n\n  if (!dateTime) {\n    return undefined;\n  }\n\n  const localNow = new Date();\n  localNow.setMilliseconds(0);\n  const nowAtServerTimeZone = new Date(localNow.toLocaleString('en-US', {\n    timeZone: systemInfo.serverTimeZoneId\n  }));\n  const timestamp = new Date(dateTime).getTime();\n  const timeOffset = localNow.getTime() - nowAtServerTimeZone.getTime();\n  return new Date(timestamp + timeOffset);\n};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"approval-status-icon_container__Vrndm\"};","import { colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './approval-status-icon.module.css';\nimport { getApprovalStatusDisplayData, APPROVAL_STATUSES } from './get-approval-status.js';\n\nconst getIconColorForType = type => {\n  switch (type) {\n    case 'default':\n      return colors.grey500;\n\n    case 'neutral':\n      return colors.blue700;\n\n    case 'positive':\n      return colors.green600;\n\n    case 'negative':\n      return colors.red600;\n  }\n};\n\nconst ApprovalStatusIcon = ({\n  approvalStatus,\n  showTitle\n}) => {\n  const {\n    icon: Icon,\n    displayName,\n    type\n  } = getApprovalStatusDisplayData({\n    approvalStatus\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    title: showTitle ? displayName : '',\n    className: classes.container\n  }, /*#__PURE__*/React.createElement(Icon, {\n    color: getIconColorForType(type)\n  }));\n};\n\nApprovalStatusIcon.defaultProps = {\n  showTitle: true\n};\nApprovalStatusIcon.propTypes = {\n  approvalStatus: PropTypes.oneOf(Object.values(APPROVAL_STATUSES)),\n  showTitle: PropTypes.bool\n};\nexport { ApprovalStatusIcon };","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"retry-button_button__ez4sO\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './retry-button.module.css';\nexport const RetryButton = ({\n  onClick,\n  children\n}) => /*#__PURE__*/React.createElement(\"button\", {\n  className: styles.button,\n  onClick: onClick\n}, children);\nRetryButton.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func.isRequired\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { Layer } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader } from '../shared/index.js';\nimport { AppContext } from './app-context.js';\nconst query = {\n  me: {\n    resource: 'me',\n    params: {\n      fields: ['authorities', 'organisationUnits[id,path]']\n    }\n  },\n  dataApprovalWorkflows: {\n    // This is generic enpoint but will only return\n    // workflows a user is allowed to see\n    resource: 'dataApprovalWorkflows',\n    params: {\n      paging: false,\n      fields: ['id', 'displayName', 'dataApprovalLevels', 'periodType', 'dataSets[id,displayName,periodType]']\n    }\n  }\n};\n\nconst AppProvider = ({\n  children\n}) => {\n  const {\n    data,\n    fetching,\n    error\n  } = useDataQuery(query);\n\n  if (fetching) {\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(Loader, null));\n  }\n\n  if (error) {\n    /**\n     * The app can't continue if this fails, because it doesn't\n     * have any data, so throw the error and let it be caught by\n     * the error boundary in the app-shell\n     */\n    throw error;\n  }\n\n  const {\n    authorities,\n    organisationUnits\n  } = data.me;\n  const {\n    dataApprovalWorkflows\n  } = data.dataApprovalWorkflows;\n  const providerValue = {\n    authorities,\n    organisationUnits,\n    dataApprovalWorkflows\n  };\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: providerValue\n  }, children);\n};\n\nAppProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AppProvider };","import { useContext } from 'react';\nimport { AppContext } from './app-context.js';\nexport const useAppContext = () => useContext(AppContext);","import { useAppContext } from '../app-context/index.js';\nexport const useIsAuthorized = () => {\n  const {\n    authorities\n  } = useAppContext();\n  const hasAppAccess = authorities.some(authority => authority === 'ALL' || authority === 'M_dhis-web-approval');\n  const hasApprovalAuthorities = authorities.some(authority => authority === 'ALL' || authority === 'F_APPROVE_DATA' || authority === 'F_APPROVE_DATA_LOWER_LEVELS' || authority === 'F_ACCEPT_DATA_LOWER_LEVELS');\n  return {\n    hasAppAccess,\n    hasApprovalAuthorities\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ErrorMessage } from '../shared/index.js';\nimport { useIsAuthorized } from './use-is-authorized.js';\n\nconst AuthWall = ({\n  children\n}) => {\n  const {\n    hasAppAccess\n  } = useIsAuthorized();\n\n  if (!hasAppAccess) {\n    return /*#__PURE__*/React.createElement(ErrorMessage, {\n      title: i18n.t('Not authorized')\n    }, i18n.t(\"You don't have access to the Data Approval App. Contact a system administrator to request access.\"));\n  }\n\n  return children;\n};\n\nAuthWall.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AuthWall };","import { createContext } from 'react';\nconst WorkflowContext = /*#__PURE__*/createContext({\n  approvalStatus: '',\n  allowedActions: {},\n  refresh: () => {\n    throw new Error('WorkflowContext.refresh has not been initialized');\n  }\n});\nexport { WorkflowContext };","import { createContext } from 'react';\n\nconst defaultFn = () => {\n  throw new Error('Selection Context has not been initialized');\n};\n\nconst SelectionContext = /*#__PURE__*/createContext({\n  workflow: {},\n  period: {},\n  orgUnit: {},\n  selectWorkflow: defaultFn,\n  selectPeriod: defaultFn,\n  selectOrgUnit: defaultFn,\n  clearAll: defaultFn,\n  setOpenedSelect: defaultFn\n});\nexport { SelectionContext };","import { stringify } from 'query-string';\nexport const createHref = state => `/#/?${stringify(state)}`;","import { createHashHistory } from 'history';\nexport const history = createHashHistory();","import { readQueryParams } from '../navigation/index.js';\nimport { parsePeriodId } from '../shared/index.js';\nexport const initialValues = workflows => {\n  const queryParams = readQueryParams();\n  const {\n    wf,\n    pe,\n    ou,\n    ouDisplayName,\n    dataSet: dataSetParam\n  } = queryParams;\n  const workflow = initialWorkflowValue(workflows, wf);\n  const period = initialPeriodValue(pe, workflow);\n  const orgUnit = initialOrgUnitValue(ou, ouDisplayName);\n  const dataSet = initialDataSetValue(dataSetParam);\n  return {\n    workflow,\n    period,\n    orgUnit,\n    dataSet\n  };\n};\nexport const initialWorkflowValue = (workflows, workflowId) => {\n  if (workflows.length === 1) {\n    // auto-select if user only has one workflow\n    return workflows[0];\n  }\n\n  if (workflowId) {\n    /*\n     * Auto select workflow with query param id\n     * default to empty object if `find` returns undefined in case the\n     * workflow with the id from the url is not available to the user\n     */\n    return workflows.find(workflow => workflow.id === workflowId) || null;\n  }\n\n  return null;\n};\nexport const initialPeriodValue = (periodId, initialWorkflow = {}) => {\n  if (!periodId || !initialWorkflow.id) {\n    return null;\n  }\n\n  return parsePeriodId(periodId, [initialWorkflow.periodType]);\n};\nexport const initialOrgUnitValue = (path, displayName) => {\n  if (!path || !displayName) {\n    return null;\n  }\n\n  const [lastPathSegment] = path.match(/[/]?[^/]*$/);\n  const id = lastPathSegment.replace('/', '');\n  return {\n    id,\n    path,\n    displayName\n  };\n};\nexport const initialDataSetValue = dataSetParam => {\n  if (!dataSetParam) {\n    return null;\n  }\n\n  return dataSetParam;\n};","import { parse } from 'query-string';\nimport { history } from './history.js';\nexport const readQueryParams = () => {\n  const params = parse(history.location.search); // ensure only known params are returned\n\n  return {\n    wf: params.wf,\n    pe: params.pe,\n    ou: params.ou,\n    ouDisplayName: params.ouDisplayName,\n    dataSet: params.dataSet\n  };\n};","import PropTypes from 'prop-types';\nimport React, { useEffect, useReducer } from 'react';\nimport { useAppContext } from '../app-context/index.js';\nimport { pushStateToHistory } from '../navigation/index.js';\nimport { initialValues, initialWorkflowValue } from './initial-values.js';\nimport { SelectionContext } from './selection-context.js';\nconst ACTIONS = {\n  SET_OPENED_SELECT: 'SET_OPENED_SELECT',\n  CLEAR_ALL: 'CLEAR_ALL',\n  SELECT_WORKFLOW: 'SELECT_WORKFLOW',\n  SELECT_PERIOD: 'SELECT_PERIOD',\n  SELECT_ORG_UNIT: 'SELECT_ORG_UNIT',\n  SELECT_DATA_SET: 'SELECT_DATA_SET',\n  SET_STATE_FROM_QUERY_PARAMS: 'SET_STATE_FROM_QUERY_PARAMS'\n};\n\nconst reducer = (state, {\n  type,\n  payload\n}) => {\n  var _state$workflow, _payload$workflow, _payload$period;\n\n  switch (type) {\n    case ACTIONS.SET_OPENED_SELECT:\n      return { ...state,\n        openedSelect: payload.openedSelect\n      };\n\n    case ACTIONS.CLEAR_ALL:\n      return {\n        openedSelect: '',\n        workflow: payload.workflow,\n        period: null,\n        orgUnit: null,\n        dataSet: null\n      };\n\n    case ACTIONS.SELECT_WORKFLOW:\n      return { ...state,\n        openedSelect: '',\n        workflow: payload.workflow,\n        period: state.workflow && ((_state$workflow = state.workflow) === null || _state$workflow === void 0 ? void 0 : _state$workflow.periodType) === ((_payload$workflow = payload.workflow) === null || _payload$workflow === void 0 ? void 0 : _payload$workflow.periodType) ? state.period : null,\n        dataSet: null\n      };\n\n    case ACTIONS.SELECT_PERIOD:\n      return { ...state,\n\n        /*\n         * Close dropdown only if selecting a period,\n         * not when unsetting it when the year changes\n         */\n        openedSelect: (_payload$period = payload.period) !== null && _payload$period !== void 0 && _payload$period.id ? '' : state.openedSelect,\n        period: payload.period,\n        dataSet: null\n      };\n\n    case ACTIONS.SELECT_ORG_UNIT:\n      return { ...state,\n        openedSelect: '',\n        orgUnit: payload.orgUnit,\n        dataSet: null\n      };\n\n    case ACTIONS.SELECT_DATA_SET:\n      return { ...state,\n        dataSet: payload.dataSet\n      };\n\n    case ACTIONS.SET_STATE_FROM_QUERY_PARAMS:\n      return {\n        openedSelect: '',\n        ...initialValues(payload.dataApprovalWorkflows)\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst SelectionProvider = ({\n  children\n}) => {\n  const {\n    dataApprovalWorkflows\n  } = useAppContext();\n  const [{\n    openedSelect,\n    workflow,\n    period,\n    orgUnit,\n    dataSet\n  }, dispatch] = useReducer(reducer, {\n    openedSelect: '',\n    ...initialValues(dataApprovalWorkflows)\n  });\n  const providerValue = {\n    workflow,\n    period,\n    orgUnit,\n    openedSelect,\n    dataSet,\n    clearAll: () => dispatch({\n      type: ACTIONS.CLEAR_ALL,\n      payload: {\n        workflow: initialWorkflowValue(dataApprovalWorkflows)\n      }\n    }),\n    setOpenedSelect: fieldName => dispatch({\n      type: ACTIONS.SET_OPENED_SELECT,\n      payload: {\n        openedSelect: fieldName\n      }\n    }),\n    selectWorkflow: workflow => dispatch({\n      type: ACTIONS.SELECT_WORKFLOW,\n      payload: {\n        workflow\n      }\n    }),\n    selectPeriod: period => dispatch({\n      type: ACTIONS.SELECT_PERIOD,\n      payload: {\n        period\n      }\n    }),\n    selectOrgUnit: orgUnit => dispatch({\n      type: ACTIONS.SELECT_ORG_UNIT,\n      payload: {\n        orgUnit\n      }\n    }),\n    selectDataSet: dataSet => dispatch({\n      type: ACTIONS.SELECT_DATA_SET,\n      payload: {\n        dataSet\n      }\n    })\n  };\n  useEffect(() => {\n    pushStateToHistory({\n      workflow,\n      period,\n      orgUnit,\n      dataSet\n    });\n  }, [workflow, period, orgUnit, dataSet]);\n  useEffect(() => {\n    const setStateFromQueryParams = () => {\n      dispatch({\n        type: ACTIONS.SET_STATE_FROM_QUERY_PARAMS,\n        payload: {\n          dataApprovalWorkflows\n        }\n      });\n    };\n\n    window.addEventListener('popstate', setStateFromQueryParams);\n    return () => {\n      window.removeEventListener('popstate', setStateFromQueryParams);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(SelectionContext.Provider, {\n    value: providerValue\n  }, children);\n};\n\nSelectionProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { SelectionProvider };","import { stringify } from 'query-string';\nimport { history } from './history.js';\nexport const pushStateToHistory = state => {\n  var _state$workflow, _state$period, _state$orgUnit, _state$orgUnit2;\n\n  const paramString = stringify({\n    wf: (_state$workflow = state.workflow) === null || _state$workflow === void 0 ? void 0 : _state$workflow.id,\n    pe: (_state$period = state.period) === null || _state$period === void 0 ? void 0 : _state$period.id,\n    ou: (_state$orgUnit = state.orgUnit) === null || _state$orgUnit === void 0 ? void 0 : _state$orgUnit.path,\n    ouDisplayName: (_state$orgUnit2 = state.orgUnit) === null || _state$orgUnit2 === void 0 ? void 0 : _state$orgUnit2.displayName,\n    // not an object, use \"undefined\" so there's no empty query param in\n    // url\n    dataSet: state.dataSet || undefined\n  });\n  const search = paramString ? `?${paramString}` : ''; // Only push if the search string changes\n\n  if (search !== history.location.search) {\n    history.push({\n      pathname: '/',\n      search\n    });\n  }\n};","import { useContext } from 'react';\nimport { SelectionContext } from './selection-context.js';\nexport const useSelectionContext = () => useContext(SelectionContext);","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useSelectionContext } from '../selection-context/index.js';\nimport { ErrorMessage, Loader, RetryButton } from '../shared/index.js';\nimport { WorkflowContext } from './workflow-context.js';\nconst query = {\n  approvalStatus: {\n    resource: 'dataApprovals',\n    params: ({\n      workflow,\n      period,\n      orgUnit\n    }) => ({\n      wf: workflow.id,\n      pe: period.id,\n      ou: orgUnit.id\n    })\n  }\n};\n\nconst WorkflowProvider = ({\n  children\n}) => {\n  const {\n    workflow,\n    period,\n    orgUnit\n  } = useSelectionContext();\n  const {\n    fetching,\n    error,\n    data,\n    called,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n\n  const fetchApprovalStatus = () => refetch({\n    workflow,\n    period,\n    orgUnit\n  });\n\n  useEffect(() => {\n    if (workflow && period && orgUnit) {\n      fetchApprovalStatus();\n    }\n  }, [workflow, period, orgUnit]);\n\n  if (!workflow || !period || !orgUnit) {\n    return null;\n  }\n\n  if (fetching || !called) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(ErrorMessage, {\n      title: i18n.t('Could not load approval data')\n    }, /*#__PURE__*/React.createElement(\"p\", null, error.message), /*#__PURE__*/React.createElement(RetryButton, {\n      onClick: fetchApprovalStatus\n    }, i18n.t('Retry loading approval data')));\n  }\n\n  const {\n    state: approvalStatus,\n    approvedBy,\n    approvedAt,\n    ...allowedActions\n  } = data.approvalStatus;\n  return /*#__PURE__*/React.createElement(WorkflowContext.Provider, {\n    value: {\n      approvalStatus,\n      approvedBy,\n      approvedAt,\n      allowedActions,\n      refresh: refetch,\n      params: {\n        wf: workflow.id,\n        pe: period.id,\n        ou: orgUnit.id\n      }\n    }\n  }, children);\n};\n\nWorkflowProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { WorkflowProvider };","import { useContext } from 'react';\nimport { WorkflowContext } from './workflow-context.js';\nexport const useWorkflowContext = () => useContext(WorkflowContext);","import { useDataMutation } from '@dhis2/app-runtime';\nexport const ACCEPT_DATA_MUTATION = {\n  resource: 'dataAcceptances',\n  type: 'create',\n  params: ({\n    wf,\n    pe,\n    ou\n  }) => ({\n    wf,\n    pe,\n    ou\n  })\n};\nexport const useAcceptData = () => useDataMutation(ACCEPT_DATA_MUTATION);","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { useWorkflowContext } from '../../workflow-context/index.js';\nimport { useAcceptData } from './use-accept-data.js';\n\nconst AcceptButton = () => {\n  const [acceptData, {\n    loading,\n    error\n  }] = useAcceptData();\n  const {\n    params,\n    refresh\n  } = useWorkflowContext();\n  const {\n    show\n  } = useAlert(i18n.t('Acceptance failed: {{error}}', {\n    error: error ? error.toString() : '',\n    nsSeparator: '-:-'\n  }));\n  useEffect(() => {\n    if (error !== null && error !== void 0 && error.message) {\n      show();\n    }\n  }, [error === null || error === void 0 ? void 0 : error.message]);\n  return /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    disabled: loading,\n    onClick: async () => {\n      const {\n        wf,\n        pe,\n        ou\n      } = params;\n      await acceptData({\n        wf,\n        pe,\n        ou\n      });\n      refresh();\n    }\n  }, i18n.t('Accept'));\n};\n\nexport { AcceptButton };","// extracted by mini-css-extract-plugin\nexport default {\"summary\":\"approve-modal_summary__dxZI8\",\"summaryTitle\":\"approve-modal_summaryTitle__8NSSP\",\"summaryList\":\"approve-modal_summaryList__63ZLn\",\"confirmationStatement\":\"approve-modal_confirmationStatement__tCFTv\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useSelectionContext } from '../../../selection-context/index.js';\nimport styles from './approve-modal.module.css';\n\nconst ApproveModal = ({\n  onApprove,\n  onCancel,\n  error\n}) => {\n  const {\n    workflow\n  } = useSelectionContext();\n  const {\n    dataSets\n  } = workflow;\n  const count = dataSets.length;\n  return /*#__PURE__*/React.createElement(Modal, null, /*#__PURE__*/React.createElement(ModalTitle, null, count > 1 ? i18n.t('Approving {{count}} data sets', {\n    count\n  }) : i18n.t('Approving {{count}} data set', {\n    count\n  })), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summary\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.summaryTitle\n  }, count > 1 ? i18n.t('{{count}} data sets for workflow {{- workflow}}:', {\n    count,\n    workflow: workflow.displayName\n  }) : i18n.t('{{count}} data set for workflow {{- workflow}}:', {\n    count,\n    workflow: workflow.displayName\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.summaryList\n  }, dataSets.map(({\n    id,\n    displayName\n  }) => /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.summaryListItem,\n    key: id\n  }, displayName)))), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.confirmationStatement\n  }, i18n.t('Are you sure you want to approve this data?')), error && /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('There was a problem saving this approval')\n  }, i18n.t('This data couldnt be approved. Try again, or contact your system administrator.'))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: onCancel\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onApprove\n  }, i18n.t('Approve')))));\n};\n\nApproveModal.propTypes = {\n  onApprove: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  error: PropTypes.instanceOf(Error)\n};\nexport { ApproveModal };","import { useDataMutation } from '@dhis2/app-runtime';\nexport const APPROVE_DATA_MUTATION = {\n  resource: 'dataApprovals',\n  type: 'create',\n  params: ({\n    wf,\n    pe,\n    ou\n  }) => ({\n    wf,\n    pe,\n    ou\n  })\n};\nexport const useApproveData = ({\n  onComplete,\n  onError\n}) => useDataMutation(APPROVE_DATA_MUTATION, {\n  onComplete,\n  onError\n});","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { useWorkflowContext } from '../../workflow-context/index.js';\nimport { ApproveModal } from './approve-modal/index.js';\nimport { useApproveData } from './use-approve-data.js';\n\nconst ApproveButton = ({\n  disabled\n}) => {\n  // state\n  const [unexpectedError, setUnexpectedError] = useState(null);\n  const [showApproveModal, setShowApproveModal] = useState(false);\n  const {\n    params,\n    refresh\n  } = useWorkflowContext(); // callbacks\n\n  const showApprovalDialog = () => setShowApproveModal(true);\n\n  const hideApprovalDialog = () => setShowApproveModal(false);\n\n  const onApprove = () => {\n    const {\n      wf,\n      pe,\n      ou\n    } = params;\n    approveData({\n      wf,\n      pe,\n      ou\n    });\n  }; // api\n\n\n  const {\n    show: showApprovalSuccess\n  } = useAlert(i18n.t('Approval saved'), {\n    success: true\n  });\n  const [approveData, {\n    loading,\n    error: approveError\n  }] = useApproveData({\n    onComplete: () => {\n      showApprovalSuccess();\n      hideApprovalDialog();\n      refresh();\n    },\n    onError: e => setUnexpectedError(e)\n  }); // derived state\n\n  const error = approveError || unexpectedError;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    small: true,\n    disabled: disabled,\n    onClick: showApprovalDialog\n  }, i18n.t('Approve')), showApproveModal && /*#__PURE__*/React.createElement(ApproveModal, {\n    error: error,\n    loading: loading,\n    onApprove: onApprove,\n    onCancel: hideApprovalDialog\n  }));\n};\n\nApproveButton.propTypes = {\n  disabled: PropTypes.bool\n};\nexport { ApproveButton };","// extracted by mini-css-extract-plugin\nexport default {\"bottomBarItem\":\"bottom-bar-item_bottomBarItem__8WMmo\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './bottom-bar-item.module.css';\n\nconst BottomBarItem = ({\n  children\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.bottomBarItem\n  }, children);\n};\n\nBottomBarItem.propTypes = {\n  children: PropTypes.any.isRequired\n};\nexport { BottomBarItem };","// extracted by mini-css-extract-plugin\nexport default {\"bottomBar\":\"bottom-bar_bottomBar__JIC0P\"};","import { useDataMutation } from '@dhis2/app-runtime';\nexport const UNACCEPT_DATA_MUTATION = {\n  resource: 'dataAcceptances',\n  type: 'delete',\n  params: ({\n    wf,\n    pe,\n    ou\n  }) => ({\n    wf,\n    pe,\n    ou\n  })\n};\nexport const useUnacceptData = () => useDataMutation(UNACCEPT_DATA_MUTATION);","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { useWorkflowContext } from '../../workflow-context/index.js';\nimport { useUnacceptData } from './use-unaccept-data.js';\n\nconst UnacceptButton = () => {\n  const [unacceptData, {\n    loading,\n    error\n  }] = useUnacceptData();\n  const {\n    params,\n    refresh\n  } = useWorkflowContext();\n  const {\n    show\n  } = useAlert(i18n.t('Unacceptance failed: {{error}}', {\n    error: error ? error.toString() : '',\n    nsSeparator: '-:-'\n  }));\n  useEffect(() => {\n    if (error !== null && error !== void 0 && error.message) {\n      show();\n    }\n  }, [error === null || error === void 0 ? void 0 : error.message]);\n  return /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    disabled: loading,\n    onClick: async () => {\n      const {\n        wf,\n        pe,\n        ou\n      } = params;\n      await unacceptData({\n        wf,\n        pe,\n        ou\n      });\n      refresh();\n    }\n  }, i18n.t('Unaccept'));\n};\n\nexport { UnacceptButton };","import { useDataMutation } from '@dhis2/app-runtime';\nexport const UNAPPROVE_DATA_MUTATION = {\n  resource: 'dataApprovals',\n  type: 'delete',\n  params: ({\n    wf,\n    pe,\n    ou\n  }) => ({\n    wf,\n    pe,\n    ou\n  })\n};\nexport const useUnapproveData = () => useDataMutation(UNAPPROVE_DATA_MUTATION);","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { useWorkflowContext } from '../../workflow-context/index.js';\nimport { useUnapproveData } from './use-unapprove-data.js';\n\nconst UnapproveButton = () => {\n  const [unapproveData, {\n    loading,\n    error\n  }] = useUnapproveData();\n  const {\n    params,\n    refresh\n  } = useWorkflowContext();\n  const {\n    show\n  } = useAlert(i18n.t('Unapproval failed: {{error}}', {\n    error: error ? error.toString() : '',\n    nsSeparator: '-:-'\n  }));\n  useEffect(() => {\n    if (error !== null && error !== void 0 && error.message) {\n      show();\n    }\n  }, [error === null || error === void 0 ? void 0 : error.message]);\n  return /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    disabled: loading,\n    onClick: async () => {\n      const {\n        wf,\n        pe,\n        ou\n      } = params;\n      await unapproveData({\n        wf,\n        pe,\n        ou\n      });\n      refresh();\n    }\n  }, i18n.t('Unapprove'));\n};\n\nexport { UnapproveButton };","import React from 'react';\nimport { useIsAuthorized } from '../auth/use-is-authorized.js';\nimport { ApprovalStatusTag, APPROVAL_STATUSES } from '../shared/index.js';\nimport { useWorkflowContext } from '../workflow-context/index.js';\nimport { AcceptButton } from './accept-button/index.js';\nimport { ApproveButton } from './approve-button/index.js';\nimport { BottomBarItem } from './bottom-bar-item.js';\nimport styles from './bottom-bar.module.css';\nimport { UnacceptButton } from './unaccept-button/index.js';\nimport { UnapproveButton } from './unapprove-button/index.js';\nconst approvedStatuses = new Set([APPROVAL_STATUSES.APPROVED_HERE, APPROVAL_STATUSES.APPROVED_ABOVE, APPROVAL_STATUSES.ACCEPTED_HERE]);\n\nconst BottomBar = () => {\n  const {\n    allowedActions,\n    approvalStatus,\n    approvedBy,\n    approvedAt\n  } = useWorkflowContext();\n  const {\n    hasApprovalAuthorities\n  } = useIsAuthorized();\n  const {\n    mayAccept,\n    mayApprove,\n    mayUnaccept,\n    mayUnapprove\n  } = allowedActions;\n  const disableApproveBtn =\n  /* We want to signal that the user can't approve or unapprove anything \n     by showing a disabled button rather than an empty space */\n  !mayApprove && !mayUnapprove || mayApprove && approvedStatuses.has(approvalStatus);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.bottomBar,\n    \"data-test\": \"bottom-bar\"\n  }, /*#__PURE__*/React.createElement(BottomBarItem, null, /*#__PURE__*/React.createElement(ApprovalStatusTag, {\n    approvalStatus: hasApprovalAuthorities ? approvalStatus : APPROVAL_STATUSES.UNAUTHORIZED,\n    approvedBy: approvedBy,\n    approvedAt: approvedAt\n  })), (mayApprove || disableApproveBtn) && /*#__PURE__*/React.createElement(BottomBarItem, null, /*#__PURE__*/React.createElement(ApproveButton, {\n    disabled: disableApproveBtn\n  })), mayAccept && /*#__PURE__*/React.createElement(BottomBarItem, null, /*#__PURE__*/React.createElement(AcceptButton, null)), mayUnapprove && /*#__PURE__*/React.createElement(BottomBarItem, null, /*#__PURE__*/React.createElement(UnapproveButton, null)), mayUnaccept && /*#__PURE__*/React.createElement(BottomBarItem, null, /*#__PURE__*/React.createElement(UnacceptButton, null))));\n};\n\nexport { BottomBar };","import { TabBar, Tab } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst DataSetNavigation = ({\n  dataSets,\n  selected,\n  onChange\n}) => dataSets && (dataSets === null || dataSets === void 0 ? void 0 : dataSets.length) > 0 ? /*#__PURE__*/React.createElement(TabBar, {\n  scrollable: true\n}, dataSets.map(dataSet => /*#__PURE__*/React.createElement(Tab, {\n  key: dataSet.id,\n  onClick: () => onChange(dataSet.id),\n  selected: dataSet.id === selected\n}, dataSet.displayName))) : null;\n\nDataSetNavigation.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dataSets: PropTypes.arrayOf(PropTypes.shape({\n    displayName: PropTypes.string,\n    id: PropTypes.string,\n    periodType: PropTypes.string\n  })),\n  selected: PropTypes.string\n};\nexport { DataSetNavigation };","// extracted by mini-css-extract-plugin\nexport default {\"display\":\"display_display__0kyOP\",\"chooseDataSet\":\"display_chooseDataSet__LWMwA display_display__0kyOP\",\"loadingWrapper\":\"display_loadingWrapper__C-b41\",\"noData\":\"display_noData__J7bkL display_display__0kyOP\",\"nonDefaultFormWarning\":\"display_nonDefaultFormWarning__P9BjV\"};","// extracted by mini-css-extract-plugin\nexport default {\"titleCell\":\"table_titleCell__Z+TA0\",\"labelCellContent\":\"table_labelCellContent__F+f8L\"};","import { DataTable, TableHead, DataTableRow, DataTableColumnHeader, TableBody, DataTableCell } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './table.module.css'; // Needs to have the same width as the table, so can't use the one from\n// @dhis2/ui\n\nconst DataTableToolbar = ({\n  children,\n  columns\n}) => /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n  className: styles.titleCell,\n  colSpan: columns.toString()\n}, children));\n\nDataTableToolbar.propTypes = {\n  children: PropTypes.any.isRequired,\n  columns: PropTypes.number.isRequired\n};\n\nconst Table = ({\n  title,\n  columns,\n  rows\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataTable, {\n  className: styles.dataTable,\n  width: \"auto\"\n}, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(DataTableToolbar, {\n  columns: columns.length\n}, title), /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n  className: styles.cell\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.labelCellContent\n}, columns[0])), columns.slice(1).map(column => {\n  return /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    key: column,\n    className: styles.cell\n  }, column);\n}))), /*#__PURE__*/React.createElement(TableBody, null, rows.map((row, index) => {\n  const [firstCell, ...cells] = row;\n  return /*#__PURE__*/React.createElement(DataTableRow, {\n    key: index\n  }, /*#__PURE__*/React.createElement(DataTableCell, {\n    className: styles.cell\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.labelCellContent\n  }, firstCell)), cells.map((value, index) => /*#__PURE__*/React.createElement(DataTableCell, {\n    key: index,\n    className: styles.cell\n  }, value)));\n}))));\n\nTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  rows: PropTypes.array.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport { Table };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport { getFixedPeriodsForTypeAndDateRange, RetryButton } from '../../shared/index.js';\nimport styles from './display.module.css';\nimport { Table } from './table.js';\nconst query = {\n  dataSetReport: {\n    resource: 'dataSetReport',\n    params: ({\n      dataSetId,\n      periodIds,\n      orgUnit\n    }) => ({\n      // arrays are being handled by the app runtime\n      pe: periodIds,\n      ds: dataSetId,\n      ou: orgUnit.id\n    })\n  }\n};\n\nconst Display = ({\n  dataSetId\n}) => {\n  const selection = useSelectionContext();\n  const {\n    orgUnit,\n    workflow,\n    period\n  } = selection;\n  const {\n    dataSets\n  } = workflow;\n  const selectedDataSet = dataSets.find(({\n    id\n  }) => id === dataSetId);\n  const periodIds = selectedDataSet ? getFixedPeriodsForTypeAndDateRange(selectedDataSet.periodType, period.startDate, period.endDate).map(({\n    id\n  }) => id) : [];\n  const {\n    called,\n    fetching,\n    data,\n    error,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  const tables = data === null || data === void 0 ? void 0 : data.dataSetReport;\n\n  const fetchDataSet = () => refetch({\n    periodIds,\n    dataSetId,\n    orgUnit\n  });\n\n  useEffect(() => {\n    if (periodIds.length && dataSetId) {\n      fetchDataSet();\n    }\n  }, // joining so this produces a primitive value\n  [periodIds.join(','), dataSetId]);\n\n  if (!dataSets || dataSets.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.noData\n    }, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('This workflow does not contain any data sets.')));\n  }\n\n  if (!dataSetId) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.chooseDataSet\n    }, /*#__PURE__*/React.createElement(\"h2\", null, i18n.t('Choose a data set to review')), /*#__PURE__*/React.createElement(\"p\", null, i18n.t('{{- workflowName}} has multiple data sets. Choose a data set from the tabs above.', {\n      workflowName: workflow.displayName\n    })));\n  }\n\n  if (!called && periodIds.length || fetching) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.loadingWrapper\n    }, /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }), i18n.t('Loading data set')));\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('There was a problem displaying this data set')\n    }, /*#__PURE__*/React.createElement(\"p\", null, i18n.t(`This data set couldn't be loaded or displayed. Try again, or contact your system administrator.`)), /*#__PURE__*/React.createElement(RetryButton, {\n      onClick: fetchDataSet\n    }, i18n.t('Retry loading data set'))));\n  }\n\n  if (!periodIds.length || !tables.length) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.noData\n    }, /*#__PURE__*/React.createElement(\"p\", null, i18n.t(`This data set doesn't have any data for {{- period}} in {{- orgUnit}}.`, {\n      period: period.displayName,\n      orgUnit: orgUnit.displayName\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.display\n  }, tables.map(table => /*#__PURE__*/React.createElement(Table, {\n    key: table.title,\n    title: table.title,\n    columns: table.headers.map(h => h.name),\n    rows: table.rows\n  })));\n};\n\nDisplay.propTypes = {\n  dataSetId: PropTypes.string\n};\nexport { Display };","// extracted by mini-css-extract-plugin\nexport default {\"titleBar\":\"title-bar_titleBar__6Sk58\",\"workflowName\":\"title-bar_workflowName__mWwAj\",\"workflowDataSetsCount\":\"title-bar_workflowDataSetsCount__fy+TZ\"};","import i18n from '@dhis2/d2-i18n';\nimport { IconDimensionDataSet16 } from '@dhis2/ui';\nimport React from 'react';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport { ApprovalStatusTag } from '../../shared/approval-status/index.js';\nimport { useWorkflowContext } from '../../workflow-context/index.js';\nimport styles from './title-bar.module.css';\n\nconst TitleBar = () => {\n  const {\n    approvalStatus,\n    approvedBy,\n    approvedAt\n  } = useWorkflowContext();\n  const {\n    workflow\n  } = useSelectionContext();\n  const {\n    dataSets,\n    displayName: name\n  } = workflow;\n  const dataSetsCount = dataSets.length;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleBar\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowName\n  }, name), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowDataSetsCount\n  }, /*#__PURE__*/React.createElement(IconDimensionDataSet16, null), dataSetsCount === 1 && i18n.t('1 data set', {\n    dataSetsCount\n  }), dataSetsCount !== 1 && i18n.t('{{dataSetsCount}} data sets', {\n    dataSetsCount\n  })), /*#__PURE__*/React.createElement(ApprovalStatusTag, {\n    approvalStatus: approvalStatus,\n    approvedBy: approvedBy,\n    approvedAt: approvedAt\n  }));\n};\n\nexport { TitleBar };","import React from 'react';\nimport { useSelectionContext } from '../selection-context/index.js';\nimport { DataSetNavigation } from './data-set-navigation/index.js';\nimport { Display } from './display/index.js';\nimport { TitleBar } from './title-bar/index.js';\nimport { useSelectedDataSet } from './use-selected-data-set/index.js';\n\nconst DataWorkspace = () => {\n  const {\n    workflow,\n    selectDataSet\n  } = useSelectionContext();\n  const selectedDataSet = useSelectedDataSet();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TitleBar, null), /*#__PURE__*/React.createElement(DataSetNavigation, {\n    dataSets: workflow === null || workflow === void 0 ? void 0 : workflow.dataSets,\n    selected: selectedDataSet,\n    onChange: selectDataSet\n  }), /*#__PURE__*/React.createElement(Display, {\n    dataSetId: selectedDataSet\n  }));\n};\n\nexport { DataWorkspace };","import { useMemo } from 'react';\nimport { useSelectionContext } from '../../selection-context/index.js';\nexport const useSelectedDataSet = () => {\n  const {\n    workflow,\n    dataSet\n  } = useSelectionContext();\n  return useMemo(() => {\n    if (workflow.dataSets.length === 1) {\n      return workflow.dataSets[0].id;\n    }\n\n    if (dataSet) {\n      const found = workflow.dataSets.find(({\n        id\n      }) => id === dataSet);\n      return found === null || found === void 0 ? void 0 : found.id;\n    }\n\n    return null;\n  }, [workflow, dataSet]);\n};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"clear-all-button_button__SrSQ6\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React from 'react';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport classes from './clear-all-button.module.css';\n\nconst ClearAllButton = () => {\n  const {\n    clearAll,\n    period,\n    orgUnit\n  } = useSelectionContext();\n  return period !== null && period !== void 0 && period.id || orgUnit !== null && orgUnit !== void 0 && orgUnit.path ? /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    className: classes.button,\n    secondary: true,\n    onClick: clearAll\n  }, i18n.t('Clear selections')) : null;\n};\n\nexport { ClearAllButton };","import { useDataEngine } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React, { createContext, useContext, useRef, useState } from 'react';\nimport { useDebouncedCallback } from 'use-debounce';\nimport { APPROVAL_STATUSES } from '../../shared/index.js';\nconst ApprovalStatusesContext = /*#__PURE__*/createContext();\n\nconst useApprovalStatusesContext = () => useContext(ApprovalStatusesContext);\n\nclass ApprovalStatusesMap {\n  constructor(map) {\n    this._map = map || new Map();\n  }\n\n  _serialiseKey({\n    workflowId,\n    periodId,\n    orgUnitId\n  }) {\n    return `${workflowId}-${periodId}-${orgUnitId}`;\n  }\n\n  set(key, status) {\n    this._map.set(this._serialiseKey(key), status);\n  }\n\n  get(key) {\n    return this._map.get(this._serialiseKey(key));\n  }\n\n  clone() {\n    return new ApprovalStatusesMap(new Map(this._map));\n  }\n\n}\n\nconst useFetchApprovalStatus = ({\n  updateApprovalStatuses\n}) => {\n  const engine = useDataEngine();\n  const requestQueue = useRef([]);\n  const fetchApprovalStatuses = useDebouncedCallback(() => {\n    const batchedQueries = [];\n    requestQueue.current.forEach(query => {\n      const existingBatchedQuery = batchedQueries.find(({\n        workflowId,\n        periodId\n      }) => {\n        return workflowId === query.workflowId && periodId === query.periodId;\n      });\n\n      if (existingBatchedQuery) {\n        existingBatchedQuery.orgUnitIds.push(query.orgUnitId);\n      } else {\n        batchedQueries.push({\n          workflowId: query.workflowId,\n          periodId: query.periodId,\n          orgUnitIds: [query.orgUnitId]\n        });\n      }\n    });\n    requestQueue.current = [];\n    batchedQueries.forEach(async ({\n      workflowId,\n      periodId,\n      orgUnitIds\n    }) => {\n      updateApprovalStatuses({\n        periodId,\n        workflowId,\n        approvalStatusUpdates: orgUnitIds.reduce((statuses, orgUnitId) => {\n          statuses[orgUnitId] = APPROVAL_STATUSES.LOADING;\n          return statuses;\n        }, {})\n      });\n      const updateObject = {};\n\n      try {\n        const {\n          approvalStatuses\n        } = await engine.query({\n          approvalStatuses: {\n            resource: 'dataApprovals/approvals',\n            params: {\n              wf: workflowId,\n              pe: periodId,\n              ou: orgUnitIds\n            }\n          }\n        });\n        approvalStatuses.forEach(({\n          ou,\n          state\n        }) => {\n          updateObject[ou] = state || APPROVAL_STATUSES.UNAPPROVABLE;\n        });\n      } catch (error) {\n        orgUnitIds.forEach(orgUnitId => {\n          updateObject[orgUnitId] = APPROVAL_STATUSES.ERROR;\n        });\n      }\n\n      updateApprovalStatuses({\n        periodId,\n        workflowId,\n        approvalStatusUpdates: updateObject\n      });\n    });\n  }, 10);\n  return ({\n    workflowId,\n    periodId,\n    orgUnitId\n  }) => {\n    requestQueue.current.push({\n      periodId,\n      workflowId,\n      orgUnitId\n    });\n    fetchApprovalStatuses();\n  };\n};\n\nexport const ApprovalStatusesProvider = ({\n  children\n}) => {\n  const [approvalStatuses, setApprovalStatuses] = useState(new ApprovalStatusesMap());\n\n  const updateApprovalStatuses = ({\n    workflowId,\n    periodId,\n    approvalStatusUpdates\n  }) => {\n    setApprovalStatuses(approvalStatuses => {\n      const newApprovalStatuses = approvalStatuses.clone();\n\n      for (const [orgUnitId, status] of Object.entries(approvalStatusUpdates)) {\n        newApprovalStatuses.set({\n          workflowId,\n          periodId,\n          orgUnitId\n        }, status);\n      }\n\n      return newApprovalStatuses;\n    });\n  };\n\n  const fetchApprovalStatus = useFetchApprovalStatus({\n    updateApprovalStatuses\n  });\n  return /*#__PURE__*/React.createElement(ApprovalStatusesContext.Provider, {\n    value: {\n      approvalStatuses,\n      fetchApprovalStatus\n    }\n  }, children);\n};\nApprovalStatusesProvider.propTypes = {\n  children: PropTypes.node\n};\nexport const useApprovalStatus = () => {\n  const {\n    approvalStatuses,\n    fetchApprovalStatus\n  } = useApprovalStatusesContext();\n  return {\n    getApprovalStatus: ({\n      workflowId,\n      periodId,\n      orgUnitId\n    }) => {\n      return approvalStatuses.get({\n        workflowId,\n        periodId,\n        orgUnitId\n      });\n    },\n    fetchApprovalStatus\n  };\n};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"context-select_button__+yi+q\",\"prefix\":\"context-select_prefix__0OKTy\",\"value\":\"context-select_value__9+Ovr\",\"tooltipwrap\":\"context-select_tooltipwrap__qS+FD\"};","import { IconChevronDown24, IconChevronUp24, colors, Popover, Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport classes from './context-select.module.css';\n\nconst ContextSelect = ({\n  children,\n  dataTest,\n  prefix,\n  placeholder,\n  value,\n  onClose,\n  onOpen,\n  disabled,\n  open,\n  requiredValuesMessage,\n  popoverMaxWidth\n}) => {\n  const buttonRef = useRef();\n  const Icon = open ? IconChevronUp24 : IconChevronDown24;\n  const button = /*#__PURE__*/React.createElement(\"button\", {\n    ref: buttonRef,\n    className: classes.button,\n    onClick: onOpen,\n    disabled: disabled,\n    \"data-test\": `${dataTest}-button`\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.prefix\n  }, prefix), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.value,\n    \"data-test\": \"value\"\n  }, value || !disabled && placeholder), /*#__PURE__*/React.createElement(Icon, {\n    color: disabled ? colors.grey600 : undefined\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, disabled ? /*#__PURE__*/React.createElement(Tooltip, {\n    content: requiredValuesMessage,\n    placement: \"bottom\"\n  }, ({\n    ref,\n    onMouseOver,\n    onMouseOut\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    className: classes.tooltipwrap\n  }, button)) : button, open && /*#__PURE__*/React.createElement(Popover, {\n    reference: buttonRef,\n    arrow: false,\n    placement: \"bottom-end\",\n    onClickOutside: onClose,\n    maxWidth: popoverMaxWidth,\n    dataTest: `${dataTest}-popover`\n  }, children));\n};\n\nContextSelect.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  prefix: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onOpen: PropTypes.func.isRequired,\n  children: PropTypes.node,\n  disabled: PropTypes.bool,\n  open: PropTypes.bool,\n  popoverMaxWidth: PropTypes.number,\n  requiredValuesMessage: PropTypes.string,\n  value: PropTypes.string\n};\nexport { ContextSelect };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"approval-status-icons-legend_container__LkczL\",\"label\":\"approval-status-icons-legend_label__b147W\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { ApprovalStatusIcon, APPROVAL_STATUSES } from '../../shared/approval-status/index.js';\nimport classes from './approval-status-icons-legend.module.css'; // Not all approval statuses are defined here as some share the same icons\n\nconst approvalStatuses = [{\n  status: APPROVAL_STATUSES.UNAPPROVED_WAITING,\n  displayName: i18n.t('Waiting for approval')\n}, {\n  status: APPROVAL_STATUSES.UNAPPROVED_READY,\n  displayName: i18n.t('Ready for approval')\n}, {\n  status: APPROVAL_STATUSES.APPROVED_HERE,\n  displayName: i18n.t('Approved')\n}, {\n  status: APPROVAL_STATUSES.UNAPPROVABLE,\n  displayName: i18n.t('Cannot be approved')\n}];\n\nconst ApprovalStatusIconsLegend = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: classes.container\n}, approvalStatuses.map(({\n  status,\n  displayName\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  key: status,\n  className: classes.label\n}, /*#__PURE__*/React.createElement(ApprovalStatusIcon, {\n  approvalStatus: status,\n  showTitle: false\n}), displayName)));\n\nexport { ApprovalStatusIconsLegend };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"approval-status-label_container__JG+c8\",\"iconContainer\":\"approval-status-label_iconContainer__1syIc\",\"loadingIcon\":\"approval-status-label_loadingIcon__i2F-b\",\"loading\":\"approval-status-label_loading__U+IbD\"};","import i18n from '@dhis2/d2-i18n';\nimport { IconWarning16, colors, Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport { ApprovalStatusIcon, APPROVAL_STATUSES } from '../../shared/index.js';\nimport classes from './approval-status-label.module.css';\nimport { useApprovalStatus } from './approval-statuses.js';\n\nconst renderIcon = approvalStatus => {\n  if (approvalStatus === APPROVAL_STATUSES.LOADING) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.loadingIcon\n    });\n  } else if (approvalStatus === APPROVAL_STATUSES.ERROR) {\n    return /*#__PURE__*/React.createElement(Tooltip, {\n      content: i18n.t('Failed to load approval state')\n    }, ({\n      onMouseOver,\n      onMouseOut,\n      ref\n    }) => /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.iconContainer,\n      onMouseOver: onMouseOver,\n      onMouseOut: onMouseOut,\n      ref: ref\n    }, /*#__PURE__*/React.createElement(IconWarning16, {\n      color: colors.yellow500\n    })));\n  } else if (approvalStatus) {\n    return /*#__PURE__*/React.createElement(ApprovalStatusIcon, {\n      approvalStatus: approvalStatus\n    });\n  }\n};\n\nconst ApprovalStatusLabel = ({\n  label,\n  orgUnitId\n}) => {\n  const {\n    workflow,\n    period\n  } = useSelectionContext();\n  const {\n    getApprovalStatus,\n    fetchApprovalStatus\n  } = useApprovalStatus();\n  const approvalStatus = getApprovalStatus({\n    workflowId: workflow.id,\n    periodId: period.id,\n    orgUnitId\n  });\n  useEffect(() => {\n    fetchApprovalStatus({\n      workflowId: workflow.id,\n      periodId: period.id,\n      orgUnitId\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container\n  }, renderIcon(approvalStatus), label);\n};\n\nApprovalStatusLabel.propTypes = {\n  label: PropTypes.string.isRequired,\n  orgUnitId: PropTypes.string.isRequired\n};\nexport { ApprovalStatusLabel };","// extracted by mini-css-extract-plugin\nexport default {\"popoverContainer\":\"org-unit-select_popoverContainer__c1xhc\",\"scrollbox\":\"org-unit-select_scrollbox__SohG6\"};","import i18n from '@dhis2/d2-i18n';\nimport { OrganisationUnitTree, Divider } from '@dhis2/ui';\nimport React from 'react';\nimport { useAppContext } from '../../app-context/index.js';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport { ContextSelect } from '../context-select/index.js';\nimport { ApprovalStatusIconsLegend } from './approval-status-icons-legend.js';\nimport { ApprovalStatusLabel } from './approval-status-label.js';\nimport classes from './org-unit-select.module.css';\nexport const ORG_UNIT = 'ORG_UNIT';\n\nconst OrgUnitSelect = () => {\n  const {\n    organisationUnits\n  } = useAppContext();\n  const {\n    orgUnit,\n    selectOrgUnit,\n    workflow,\n    period,\n    openedSelect,\n    setOpenedSelect\n  } = useSelectionContext();\n  const open = openedSelect === ORG_UNIT;\n  const value = orgUnit === null || orgUnit === void 0 ? void 0 : orgUnit.displayName;\n  const requiredValuesMessage = workflow !== null && workflow !== void 0 && workflow.id ? i18n.t('Choose a period first') : i18n.t('Choose a workflow and period first');\n  const roots = organisationUnits.map(({\n    id\n  }) => id);\n\n  const onChange = ({\n    displayName,\n    id,\n    path\n  }) => {\n    selectOrgUnit({\n      displayName,\n      id,\n      path\n    });\n  };\n\n  const selectedOrgUnitPath = orgUnit !== null && orgUnit !== void 0 && orgUnit.path ? [orgUnit.path] : undefined;\n  const initiallySelected = selectedOrgUnitPath || organisationUnits.map(({\n    path\n  }) => path);\n  return /*#__PURE__*/React.createElement(ContextSelect, {\n    dataTest: \"org-unit-context-select\",\n    prefix: i18n.t('Organisation Unit'),\n    placeholder: i18n.t('Choose an organisation unit'),\n    value: value,\n    open: open,\n    disabled: !(workflow !== null && workflow !== void 0 && workflow.id && period !== null && period !== void 0 && period.id),\n    onOpen: () => setOpenedSelect(ORG_UNIT),\n    onClose: () => setOpenedSelect(''),\n    requiredValuesMessage: requiredValuesMessage,\n    popoverMaxWidth: 400\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.popoverContainer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.scrollbox\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    roots: roots,\n    onChange: onChange,\n    initiallyExpanded: initiallySelected,\n    selected: selectedOrgUnitPath,\n    singleSelection: true,\n    renderNodeLabel: ({\n      label,\n      node\n    }) => /*#__PURE__*/React.createElement(ApprovalStatusLabel, {\n      label: label,\n      orgUnitId: node.id\n    })\n  })), /*#__PURE__*/React.createElement(Divider, {\n    margin: \"0\"\n  }), /*#__PURE__*/React.createElement(ApprovalStatusIconsLegend, null)));\n};\n\nexport { OrgUnitSelect };","// extracted by mini-css-extract-plugin\nexport default {\"menu\":\"period-menu_menu__BLuFe\"};","import { useConfig } from '@dhis2/app-runtime';\nimport { Menu, MenuItem } from '@dhis2/ui';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createHref } from '../../navigation/index.js';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport { getFixedPeriodsByTypeAndYear } from '../../shared/index.js';\nimport classes from './period-menu.module.css';\n\nconst PeriodMenu = ({\n  periodType,\n  year\n}) => {\n  const {\n    workflow,\n    period: selectedPeriod,\n    orgUnit,\n    selectPeriod\n  } = useSelectionContext();\n  const {\n    systemInfo: {\n      dateFormat\n    }\n  } = useConfig();\n  const periods = getFixedPeriodsByTypeAndYear({\n    periodType,\n    year,\n    formatYyyyMmDd: date => {\n      if (periodType === 'Daily') {\n        // moment format tokens are case sensitive\n        // see https://momentjs.com/docs/#/parsing/string-format/\n        return moment(date).format(dateFormat.toUpperCase());\n      }\n\n      return moment(date).format('YYYY-MM-DD');\n    },\n    config: {\n      reversePeriods: true\n    }\n  });\n  return /*#__PURE__*/React.createElement(Menu, {\n    dense: true,\n    className: classes.menu\n  }, periods.map(period => /*#__PURE__*/React.createElement(MenuItem, {\n    active: period.id === (selectedPeriod === null || selectedPeriod === void 0 ? void 0 : selectedPeriod.id),\n    key: period.id,\n    href: createHref({\n      wf: workflow === null || workflow === void 0 ? void 0 : workflow.id,\n      ou: orgUnit === null || orgUnit === void 0 ? void 0 : orgUnit.path,\n      pe: period.id\n    }),\n    label: period.displayName,\n    onClick: () => selectPeriod(period)\n  })));\n};\n\nPeriodMenu.propTypes = {\n  periodType: PropTypes.string,\n  year: PropTypes.number\n};\nexport { PeriodMenu };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"year-navigator_container__1f7c9\",\"year\":\"year-navigator_year__-SS5w\"};","import { Button, IconArrowRight24, IconArrowLeft24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './year-navigator.module.css'; // To avoid users from navigating too far back\n\nconst startYear = 1970;\n\nconst YearNavigator = ({\n  maxYear,\n  year,\n  onYearChange\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: classes.container\n}, /*#__PURE__*/React.createElement(Button, {\n  disabled: year === startYear,\n  onClick: () => onYearChange(year - 1),\n  icon: /*#__PURE__*/React.createElement(IconArrowLeft24, null)\n}), /*#__PURE__*/React.createElement(\"span\", {\n  className: classes.year\n}, year), /*#__PURE__*/React.createElement(Button, {\n  disabled: year === maxYear,\n  onClick: () => onYearChange(year + 1),\n  icon: /*#__PURE__*/React.createElement(IconArrowRight24, null)\n}));\n\nYearNavigator.propTypes = {\n  maxYear: PropTypes.number,\n  year: PropTypes.number,\n  onYearChange: PropTypes.func\n};\nexport { YearNavigator };","import i18n from '@dhis2/d2-i18n';\nimport React, { useEffect, useState } from 'react';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport { getMostRecentCompletedYear } from '../../shared/index.js';\nimport { ContextSelect } from '../context-select/index.js';\nimport { PeriodMenu } from './period-menu.js';\nimport { YearNavigator } from './year-navigator.js';\nexport const PERIOD = 'PERIOD';\n\nconst computeMaxYear = periodType => periodType ? getMostRecentCompletedYear(periodType) : null;\n\nconst PeriodSelect = () => {\n  const {\n    period,\n    workflow,\n    selectPeriod,\n    openedSelect,\n    setOpenedSelect\n  } = useSelectionContext();\n  const [maxYear, setMaxYear] = useState(() => computeMaxYear(workflow === null || workflow === void 0 ? void 0 : workflow.periodType));\n  const [year, setYear] = useState((period === null || period === void 0 ? void 0 : period.year) || maxYear);\n  const open = openedSelect === PERIOD;\n  const value = period === null || period === void 0 ? void 0 : period.displayName;\n  useEffect(() => {\n    if (period !== null && period !== void 0 && period.year) {\n      setYear(period.year);\n    }\n  }, [period === null || period === void 0 ? void 0 : period.year]);\n  useEffect(() => {\n    if (workflow !== null && workflow !== void 0 && workflow.periodType) {\n      const newMaxYear = computeMaxYear(workflow === null || workflow === void 0 ? void 0 : workflow.periodType);\n      setMaxYear(newMaxYear);\n\n      if (!(period !== null && period !== void 0 && period.year)) {\n        setYear(newMaxYear);\n      }\n    }\n  }, [workflow === null || workflow === void 0 ? void 0 : workflow.periodType]);\n  return /*#__PURE__*/React.createElement(ContextSelect, {\n    dataTest: \"period-context-select\",\n    prefix: i18n.t('Period'),\n    placeholder: i18n.t('Choose a period'),\n    value: value,\n    open: open,\n    disabled: !(workflow !== null && workflow !== void 0 && workflow.id),\n    onOpen: () => setOpenedSelect(PERIOD),\n    onClose: () => setOpenedSelect(''),\n    requiredValuesMessage: i18n.t('Choose a workflow first')\n  }, year && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(YearNavigator, {\n    maxYear: maxYear,\n    year: year,\n    onYearChange: year => {\n      selectPeriod(null);\n      setYear(year);\n    }\n  }), /*#__PURE__*/React.createElement(PeriodMenu, {\n    periodType: workflow === null || workflow === void 0 ? void 0 : workflow.periodType,\n    year: year\n  })));\n};\n\nexport { PeriodSelect };","// extracted by mini-css-extract-plugin\nexport default {\"bordered\":\"workflow-select-option_bordered__AKPGi\",\"option\":\"workflow-select-option_option__gfHZ9\",\"title\":\"workflow-select-option_title__cVqUz\",\"subtitle\":\"workflow-select-option_subtitle__CrFgt\"};","import { MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createHref } from '../../navigation/index.js';\nimport classes from './workflow-select-option.module.css';\n\nconst WorkflowSelectOption = ({\n  id,\n  name,\n  periodType,\n  active,\n  onClick\n}) => {\n  const label = /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.option\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.title\n  }, name), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.subtitle\n  }, periodType || 'UNAVAILABLE'));\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    href: createHref({\n      wf: id\n    }),\n    className: classes.bordered,\n    active: active,\n    onClick: onClick,\n    label: label\n  });\n};\n\nWorkflowSelectOption.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  periodType: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport { WorkflowSelectOption };","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"workflow-select_message__DZY3B\"};","import i18n from '@dhis2/d2-i18n';\nimport { Menu } from '@dhis2/ui';\nimport React from 'react';\nimport { useAppContext } from '../../app-context/index.js';\nimport { useSelectionContext } from '../../selection-context/index.js';\nimport { ContextSelect } from '../context-select/index.js';\nimport { WorkflowSelectOption } from './workflow-select-option.js';\nimport classes from './workflow-select.module.css';\nconst WORKFLOW = 'WORKFLOW';\n\nconst WorkflowSelect = () => {\n  const {\n    dataApprovalWorkflows\n  } = useAppContext();\n  const {\n    workflow: selectedWorkflow,\n    selectWorkflow,\n    openedSelect,\n    setOpenedSelect\n  } = useSelectionContext();\n  const open = openedSelect === WORKFLOW;\n  const value = selectedWorkflow === null || selectedWorkflow === void 0 ? void 0 : selectedWorkflow.displayName;\n  return /*#__PURE__*/React.createElement(ContextSelect, {\n    dataTest: \"workflow-context-select\",\n    prefix: i18n.t('Workflow'),\n    placeholder: i18n.t('Choose a workflow'),\n    value: value,\n    open: open,\n    onOpen: () => setOpenedSelect(WORKFLOW),\n    onClose: () => setOpenedSelect('')\n  }, dataApprovalWorkflows.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, i18n.t('No workflows found. None may exist, or you may not have access to any.')) : /*#__PURE__*/React.createElement(Menu, null, dataApprovalWorkflows.map(workflow => /*#__PURE__*/React.createElement(WorkflowSelectOption, {\n    key: workflow.id,\n    id: workflow.id,\n    name: workflow.displayName,\n    periodType: workflow.periodType,\n    active: workflow.id === (selectedWorkflow === null || selectedWorkflow === void 0 ? void 0 : selectedWorkflow.id),\n    onClick: () => selectWorkflow(workflow)\n  }))));\n};\n\nexport { WorkflowSelect, WORKFLOW };","import React from 'react';\nimport { ClearAllButton } from './clear-all-button/index.js';\nimport { ApprovalStatusesProvider } from './org-unit-select/approval-statuses.js';\nimport { OrgUnitSelect } from './org-unit-select/index.js';\nimport { PeriodSelect } from './period-select/index.js';\nimport { WorkflowSelect } from './workflow-select/index.js';\n\nconst TopBar = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WorkflowSelect, null), /*#__PURE__*/React.createElement(PeriodSelect, null), /*#__PURE__*/React.createElement(ApprovalStatusesProvider, null, /*#__PURE__*/React.createElement(OrgUnitSelect, null)), /*#__PURE__*/React.createElement(ClearAllButton, null));\n\nexport { TopBar };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"layout_container__WuNXT\",\"top\":\"layout_top__1Y7+j\",\"content\":\"layout_content__P4zzF\",\"bottom\":\"layout_bottom__Eajo3\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './layout.module.css';\n\nconst LayoutSection = ({\n  children,\n  className\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: className\n}, children);\n\nLayoutSection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\n\nconst Container = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.container\n}));\n\nconst Top = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.top\n}));\n\nconst Content = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.content\n}));\n\nconst Bottom = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.bottom\n}));\n\nexport const Layout = {\n  Container,\n  Top,\n  Content,\n  Bottom\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { App } from './app.js';\nimport '../locales/index.js';\nexport default App;","import { CssVariables } from '@dhis2/ui';\nimport React from 'react';\nimport { AppProvider } from '../app-context/index.js';\nimport { AuthWall } from '../auth/index.js';\nimport { BottomBar } from '../bottom-bar/index.js';\nimport { DataWorkspace } from '../data-workspace/index.js';\nimport { SelectionProvider } from '../selection-context/index.js';\nimport { TopBar } from '../top-bar/index.js';\nimport { WorkflowProvider } from '../workflow-context/index.js';\nimport { Layout } from './layout.js';\n\nconst App = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n  spacers: true,\n  colors: true,\n  theme: true\n}), /*#__PURE__*/React.createElement(AppProvider, null, /*#__PURE__*/React.createElement(AuthWall, null, /*#__PURE__*/React.createElement(SelectionProvider, null, /*#__PURE__*/React.createElement(Layout.Container, null, /*#__PURE__*/React.createElement(Layout.Top, null, /*#__PURE__*/React.createElement(TopBar, null)), /*#__PURE__*/React.createElement(WorkflowProvider, null, /*#__PURE__*/React.createElement(Layout.Content, null, /*#__PURE__*/React.createElement(DataWorkspace, null)), /*#__PURE__*/React.createElement(Layout.Bottom, null, /*#__PURE__*/React.createElement(BottomBar, null))))))));\n\nexport { App };"],"names":["AppContext","createContext","authorities","organisationUnits","dataApprovalWorkflows","ErrorMessage","children","title","React","className","classes","NoticeBox","error","DAILY","WEEKLY","WEEKLY_WEDNESDAY","WEEKLY_THURSDAY","WEEKLY_SATURDAY","WEEKLY_SUNDAY","BI_WEEKLY","MONTHLY","BI_MONTHLY","QUARTERLY","SIX_MONTHLY","SIX_MONTHLY_APRIL","YEARLY","FINANCIAL_APRIL","FINANCIAL_JULY","FINANCIAL_OCT","FINANCIAL_NOV","PERIOD_TYPES","Set","isValidPeriodType","periodType","has","getMonthName","key","i18n","getCurrentDate","Date","now","getYearWithOffset","offset","offsetInt","parseInt","getFullYear","getDailyPeriodType","formatYyyyMmDd","fnFilter","config","periods","isFilter","filterFuturePeriods","isReverse","reversePeriods","year","date","period","startDate","endDate","displayName","iso","replace","id","push","setDate","getDate","reverse","getWeeklyPeriodType","weekObj","startDayOfWeek","jan4","jan4DayOfWeek","getDay","dayDiff","getEpiWeekStartDay","startDay","week","shortName","weekNumber","getBiWeeklyPeriodType","day","biWeek","biWeekNumber","getMonthlyPeriodType","formatIso","y","m","String","getMonth","length","monthName","getBiMonthlyPeriodType","index","monthStart","monthEnd","fullYear","getQuarterlyPeriodType","quarter","getSixMonthlyPeriodType","getSixMonthlyAprilPeriodType","getYearlyPeriodType","setMonth","dateString","toString","getFinancialOctoberPeriodType","i","setYear","yearStart","yearEnd","getFinancialNovemberPeriodType","getFinancialJulyPeriodType","getFinancialAprilPeriodType","defaultFormatYyyyMmDd","d","defaultFilterFuturePeriods","array","getFixedPeriodTypes","type","regex","getPeriods","getYearOffsetFromNow","yearInt","Number","isInteger","Error","getFixedPeriodsByTypeAndYear","fixedPeriod","periodTypeObj","find","getFixedPeriodType","parsePeriodId","allowedTypes","periodTypes","filter","some","allowedType","match","isValidDate","isNaN","getTime","getFixedPeriodsForTypeAndDateRange","startDateReached","convertedPeriods","forEach","periodEnd","endsAfterPeriodStart","Loader","CenteredContent","CircularLoader","Approved","color","height","viewBox","width","xmlns","fill","fillRule","Ready","clipRule","Waiting","APPROVAL_STATUSES","getApprovalStatusDisplayData","approvalStatus","approvalDateTime","approvedBy","name","timeAgo","moment","fromNow","getApprovalStatusText","icon","IconBlock16","IconError16","getApprovalStatusIcon","_extends","Object","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","ApprovalStatusTag","approvedAt","dateTime","systemInfo","useConfig","localNow","setMilliseconds","nowAtServerTimeZone","toLocaleString","timeZone","serverTimeZoneId","timestamp","timeOffset","useServerDateTimeAsLocal","Icon","props","shouldRenderTooltip","isApproved","tag","Tag","maxWidth","dateTimeStr","format","tooltipContent","Tooltip","content","getIconColorForType","colors","ApprovalStatusIcon","showTitle","defaultProps","RetryButton","onClick","styles","query","me","resource","params","fields","paging","AppProvider","data","fetching","useDataQuery","Layer","providerValue","Provider","value","useAppContext","useContext","useIsAuthorized","hasAppAccess","authority","hasApprovalAuthorities","AuthWall","WorkflowContext","allowedActions","refresh","defaultFn","SelectionContext","workflow","orgUnit","selectWorkflow","selectPeriod","selectOrgUnit","clearAll","setOpenedSelect","createHref","state","stringify","history","createHashHistory","initialValues","workflows","queryParams","parse","wf","pe","ou","ouDisplayName","dataSet","readQueryParams","dataSetParam","initialWorkflowValue","initialPeriodValue","initialOrgUnitValue","initialDataSetValue","workflowId","periodId","initialWorkflow","path","lastPathSegment","ACTIONS","reducer","payload","_state$workflow","_payload$workflow","_payload$period","openedSelect","SelectionProvider","dispatch","useReducer","fieldName","selectDataSet","useEffect","_state$period","_state$orgUnit","_state$orgUnit2","paramString","undefined","search","pathname","pushStateToHistory","setStateFromQueryParams","window","addEventListener","removeEventListener","useSelectionContext","WorkflowProvider","called","refetch","lazy","fetchApprovalStatus","message","useWorkflowContext","ACCEPT_DATA_MUTATION","AcceptButton","acceptData","loading","useDataMutation","show","useAlert","nsSeparator","Button","small","disabled","async","ApproveModal","onApprove","onCancel","dataSets","count","Modal","ModalTitle","ModalContent","map","ModalActions","ButtonStrip","primary","APPROVE_DATA_MUTATION","ApproveButton","unexpectedError","setUnexpectedError","useState","showApproveModal","setShowApproveModal","hideApprovalDialog","showApprovalSuccess","success","approveData","approveError","onComplete","onError","useApproveData","e","BottomBarItem","UNACCEPT_DATA_MUTATION","UnacceptButton","unacceptData","UNAPPROVE_DATA_MUTATION","UnapproveButton","unapproveData","approvedStatuses","BottomBar","mayAccept","mayApprove","mayUnaccept","mayUnapprove","disableApproveBtn","DataSetNavigation","selected","onChange","TabBar","scrollable","Tab","DataTableToolbar","columns","colSpan","Table","rows","DataTable","TableHead","DataTableRow","DataTableColumnHeader","slice","column","TableBody","row","firstCell","cells","DataTableCell","dataSetReport","dataSetId","periodIds","ds","Display","selection","selectedDataSet","tables","fetchDataSet","join","table","headers","h","workflowName","TitleBar","dataSetsCount","IconDimensionDataSet16","DataWorkspace","useMemo","found","useSelectedDataSet","ClearAllButton","secondary","ApprovalStatusesContext","ApprovalStatusesMap","constructor","_map","Map","_serialiseKey","orgUnitId","set","status","get","clone","ApprovalStatusesProvider","approvalStatuses","setApprovalStatuses","updateApprovalStatuses","engine","useDataEngine","requestQueue","useRef","fetchApprovalStatuses","useDebouncedCallback","batchedQueries","current","existingBatchedQuery","orgUnitIds","approvalStatusUpdates","reduce","statuses","updateObject","useFetchApprovalStatus","newApprovalStatuses","entries","useApprovalStatus","getApprovalStatus","ContextSelect","dataTest","prefix","placeholder","onClose","onOpen","open","requiredValuesMessage","popoverMaxWidth","buttonRef","IconChevronUp24","IconChevronDown24","button","ref","placement","onMouseOver","onMouseOut","Popover","reference","arrow","onClickOutside","ApprovalStatusIconsLegend","ApprovalStatusLabel","label","IconWarning16","renderIcon","ORG_UNIT","OrgUnitSelect","roots","selectedOrgUnitPath","initiallySelected","OrganisationUnitTree","initiallyExpanded","singleSelection","renderNodeLabel","node","Divider","margin","PeriodMenu","selectedPeriod","dateFormat","toUpperCase","Menu","dense","MenuItem","active","href","YearNavigator","maxYear","onYearChange","IconArrowLeft24","IconArrowRight24","PERIOD","computeMaxYear","getMostRecentCompletedYear","PeriodSelect","setMaxYear","newMaxYear","WorkflowSelectOption","WORKFLOW","WorkflowSelect","selectedWorkflow","TopBar","LayoutSection","Layout","namespace","arTranslations","ar_EGTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","CssVariables","spacers","theme"],"sourceRoot":""}