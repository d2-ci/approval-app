{"version":3,"sources":["D2App/auth/auth-wall.module.css","D2App/top-bar/context-select/context-select.module.css","D2App/top-bar/period-select/period-menu.module.css","D2App/top-bar/period-select/year-navigator.module.css","D2App/top-bar/clear-all-button/clear-all-button.module.css","D2App/top-bar/workflow-select/workflow-select-option.module.css","D2App/top-bar/workflow-select/workflow-select.module.css","D2App/app/layout.module.css","D2App/current-user/current-user-context.js","D2App/current-user/current-user-provider.js","D2App/current-user/use-current-user.js","D2App/auth/auth-wall.js","D2App/auth/use-is-authorized.js","D2App/bottom-bar/bottom-bar.js","D2App/data-workspace/data-workspace.js","D2App/top-bar/selection/selection-context.js","D2App/top-bar/context-select/context-select.js","D2App/top-bar/period-select/fixed-periods.js","D2App/top-bar/period-select/period-menu.js","D2App/top-bar/period-select/year-navigator.js","D2App/top-bar/period-select/period-select.js","D2App/top-bar/selection/initial-values.js","D2App/top-bar/selection/selection-provider.js","D2App/top-bar/selection/use-selection-context.js","D2App/top-bar/clear-all-button/clear-all-button.js","D2App/top-bar/org-unit-select/org-unit-select.js","D2App/top-bar/workflow-select/workflow-select-option.js","D2App/top-bar/workflow-select/workflow-select.js","D2App/top-bar/top-bar.js","D2App/app/layout.js","D2App/app/index.js","D2App/app/app.js"],"names":["module","exports","CurrentUserContext","createContext","query","me","resource","params","fields","dataApprovalWorkflows","paging","CurrentUserProvider","children","data","loading","error","useDataQuery","React","createElement","Layer","CenteredContent","CircularLoader","providerValue","Provider","value","useCurrentUser","useContext","AuthWall","authorities","some","authority","useIsAuthorized","className","classes","wrapper","NoticeBox","title","i18n","t","BottomBar","DataWorkspace","defaultFn","Error","SelectionContext","workflow","setWorkflow","period","setPeriod","orgUnit","setOrgUnit","ContextSelect","prefix","onClose","onOpen","disabled","open","requiredValuesMessage","buttonRef","useRef","Icon","IconChevronUp24","IconChevronDown24","button","ref","onClick","color","colors","grey600","undefined","Fragment","Tooltip","content","placement","onMouseOver","onMouseOut","tooltipwrap","Popover","reference","arrow","onClickOutside","getMonthName","key","getWeeklyPeriodType","formatYyyyMmDd","weekObj","fnFilter","config","periods","offset","parseInt","isFilter","filterFuturePeriods","isReverse","reversePeriods","year","Date","now","getFullYear","date","startDayOfWeek","jan4","jan4DayOfWeek","getDay","startDate","dayDiff","setDate","getDate","getEpiWeekStartDay","startDay","week","iso","shortName","id","endDate","weekNumber","displayName","push","reverse","getBiWeeklyPeriodType","day","biWeek","biWeekNumber","getMonthlyPeriodType","formatIso","y","m","String","getMonth","length","monthName","getBiMonthlyPeriodType","index","monthStart","monthEnd","fullYear","getQuarterlyPeriodType","quarter","getSixMonthlyPeriodType","getSixMonthlyAprilPeriodType","getYearlyPeriodType","setMonth","dateString","toString","getFinancialOctoberPeriodType","i","setYear","yearStart","yearEnd","getFinancialNovemberPeriodType","getFinancialJulyPeriodType","getFinancialAprilPeriodType","d","array","getFixedPeriodTypes","type","regex","getPeriods","replace","getYearOffsetFromNow","getFixedPeriodsByTypeAndYear","periodType","find","option","getFixedPeriodType","Number","isInteger","PeriodMenu","selectPeriod","useSelectionContext","Menu","dense","menu","map","MenuItem","label","currentYear","startYear","YearNavigator","onYearChange","container","Button","icon","IconArrowLeft24","IconArrowRight24","PERIOD","PeriodSelect","openedSelect","setOpenedSelect","useState","useEffect","initialValues","workflows","initialWorkflowValue","wf","initialPeriodValue","pe","initialOrgUnitValue","ou","workflowId","periodId","initialWorkflow","allowedTypes","periodTypes","filter","allowedType","match","parsePeriodId","orgUnitId","ACTIONS","reducer","state","payload","SelectionProvider","setQuery","useQueryParams","StringParam","dispatch","useReducer","clearAll","fieldName","selectWorkflow","selectOrgUnit","ClearAllButton","secondary","ORG_UNIT","OrgUnitSelect","WorkflowSelectOption","name","active","subtitle","bordered","WORKFLOW","WorkflowSelect","selectedWorkflow","message","TopBar","_extends","Object","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","LayoutSection","Layout","props","top","bottom","App","QueryParamProvider","CssVariables","spacers","theme"],"mappings":"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","file":"static/js/app.783af399.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"auth-wall_wrapper__2MmQe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"context-select_button__1y8va\",\"prefix\":\"context-select_prefix__3xDFu\",\"value\":\"context-select_value__oltZj\",\"tooltipwrap\":\"context-select_tooltipwrap__3Fqbe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"period-menu_menu__2CHPS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"year-navigator_container__3XXd2\",\"year\":\"year-navigator_year__14nbM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"clear-all-button_button__mDEHm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bordered\":\"workflow-select-option_bordered__JBAIX\",\"option\":\"workflow-select-option_option__1cqTS\",\"title\":\"workflow-select-option_title__3zrtv\",\"subtitle\":\"workflow-select-option_subtitle__3yrup\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"workflow-select_message__1jq5N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"layout_container__Cp-96\",\"top\":\"layout_top__2gcI9\",\"content\":\"layout_content__10QOH\",\"bottom\":\"layout_bottom__2toTd\"};","import { createContext } from 'react';\nconst CurrentUserContext = /*#__PURE__*/createContext({});\nexport { CurrentUserContext };","import { useDataQuery } from '@dhis2/app-runtime';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { CircularLoader, Layer, CenteredContent } from '@dhis2/ui';\nimport React from 'react';\nimport { CurrentUserContext } from './current-user-context.js';\nconst query = {\n  me: {\n    resource: 'me',\n    params: {\n      fields: ['id', 'authorities', 'programs', 'dataSets', 'userGroups', 'organisationUnits', 'dataViewOrganisationUnits']\n    }\n  },\n  dataApprovalWorkflows: {\n    // This is generic enpoint but will only return\n    // workflows a user is allowed to see\n    resource: 'dataApprovalWorkflows',\n    params: {\n      paging: false,\n      fields: ['id', 'displayName', 'dataApprovalLevels', 'periodType']\n    }\n  }\n};\n\nconst CurrentUserProvider = ({\n  children\n}) => {\n  const {\n    data,\n    loading,\n    error\n  } = useDataQuery(query);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)));\n  }\n\n  if (error) {\n    /**\n     * The app can't continue if this fails, because it doesn't\n     * have any data, so throw the error and let it be caught by\n     * the error boundary in the app-shell\n     */\n    throw error;\n  }\n\n  const providerValue = { ...data.me,\n    ...data.dataApprovalWorkflows\n  };\n  return /*#__PURE__*/React.createElement(CurrentUserContext.Provider, {\n    value: providerValue\n  }, children);\n};\n\nCurrentUserProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { CurrentUserProvider };","import { useContext } from 'react';\nimport { CurrentUserContext } from './current-user-context.js';\nexport const useCurrentUser = () => useContext(CurrentUserContext);","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './auth-wall.module.css';\nimport { useIsAuthorized } from './use-is-authorized.js';\n\nconst AuthWall = ({\n  children\n}) => {\n  const isAuthorized = useIsAuthorized();\n\n  if (!isAuthorized) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper\n    }, /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Not authorized')\n    }, i18n.t(\"You don't have access to the Data Approval App. Contact a system administrator to request access.\")));\n  }\n\n  return children;\n};\n\nAuthWall.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AuthWall };","import { useCurrentUser } from '../current-user/index.js';\nexport const useIsAuthorized = () => {\n  const {\n    authorities\n  } = useCurrentUser();\n  return authorities.some(authority => authority === 'ALL' || authority === 'M_dhis-web-approval');\n};","import React from 'react';\n\nconst BottomBar = () => /*#__PURE__*/React.createElement(\"pre\", null, \"BottomBar placeholder\");\n\nexport { BottomBar };","import React from 'react';\n\nconst DataWorkspace = () => /*#__PURE__*/React.createElement(\"pre\", null, \"DataWorkspace placeholder\");\n\nexport { DataWorkspace };","import { createContext } from 'react';\n\nconst defaultFn = () => {\n  throw new Error('Selection Context has not been initialized');\n};\n\nconst SelectionContext = /*#__PURE__*/createContext({\n  workflow: {},\n  setWorkflow: defaultFn,\n  period: {},\n  setPeriod: defaultFn,\n  orgUnit: {},\n  setOrgUnit: defaultFn\n});\nexport { SelectionContext };","import { IconChevronDown24, IconChevronUp24, colors, Popover, Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport classes from './context-select.module.css';\n\nconst ContextSelect = ({\n  children,\n  prefix,\n  value,\n  onClose,\n  onOpen,\n  disabled,\n  open,\n  requiredValuesMessage\n}) => {\n  const buttonRef = useRef();\n  const Icon = open ? IconChevronUp24 : IconChevronDown24;\n  const button = /*#__PURE__*/React.createElement(\"button\", {\n    ref: buttonRef,\n    className: classes.button,\n    onClick: onOpen,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.prefix\n  }, prefix), !disabled && /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.value\n  }, value), /*#__PURE__*/React.createElement(Icon, {\n    color: disabled ? colors.grey600 : undefined\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, disabled ? /*#__PURE__*/React.createElement(Tooltip, {\n    content: requiredValuesMessage,\n    placement: \"bottom\"\n  }, ({\n    ref,\n    onMouseOver,\n    onMouseOut\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    className: classes.tooltipwrap\n  }, button)) : button, open && /*#__PURE__*/React.createElement(Popover, {\n    reference: buttonRef,\n    arrow: false,\n    placement: \"bottom-start\",\n    onClickOutside: onClose\n  }, children));\n};\n\nContextSelect.propTypes = {\n  children: PropTypes.node.isRequired,\n  prefix: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onOpen: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  open: PropTypes.bool,\n  requiredValuesMessage: PropTypes.string\n};\nexport { ContextSelect };","import i18n from '@dhis2/d2-i18n';\n/*\n * This code is copied from the analytics repo as a temporary solution.\n * https://github.com/dhis2/analytics/tree/master/src/components/PeriodDimension/utils\n * In the long term, this period related logic should be moved into its own repo, see:\n * https://jira.dhis2.org/browse/LIBS-193\n * The following changes to the code in the anaytics repo have been implemented:\n *   A. Renamed period-CODE to period-ID\n *   B. Adjusted period type names (values) to match the names in the response from `api/periodTypes`\n *   C. Adjusted period type variable names to equivalent of B, but in UPPER_SNAKE_CASE\n * IMO these changes should be implemented in the period package too\n */\n// Period types\n\nconst DAILY = 'Daily';\nconst WEEKLY = 'Weekly';\nconst WEEKLY_WEDNESDAY = 'WeeklyWednesday';\nconst WEEKLY_THURSDAY = 'WeeklyThursday';\nconst WEEKLY_SATURDAY = 'WeeklySaturday';\nconst WEEKLY_SUNDAY = 'WeeklySunday';\nconst BI_WEEKLY = 'BiWeekly';\nconst MONTHLY = 'Monthly';\nconst BI_MONTHLY = 'BiMonthly';\nconst QUARTERLY = 'Quarterly';\nconst SIX_MONTHLY = 'SixMonthly';\nconst SIX_MONTHLY_APRIL = 'SixMonthlyApril'; // const SIX_MONTHLY_NOV = 'SixMonthlyNov'\n\nconst YEARLY = 'Yearly';\nconst FINANCIAL_APRIL = 'FinancialApril';\nconst FINANCIAL_JULY = 'FinancialJuly';\nconst FINANCIAL_OCT = 'FinancialOct';\nconst FINANCIAL_NOV = 'FinancialNov';\n\nconst getMonthName = key => {\n  const monthNames = [i18n.t('January'), i18n.t('February'), i18n.t('March'), i18n.t('April'), i18n.t('May'), i18n.t('June'), i18n.t('July'), i18n.t('August'), i18n.t('September'), i18n.t('October'), i18n.t('November'), i18n.t('December')];\n  return monthNames[key];\n};\n\nconst getDailyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`01 Jan ${year}`);\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.startDate = formatYyyyMmDd(date);\n      period.endDate = period.startDate;\n      period.displayName = period.startDate;\n      period.iso = period.startDate.replace(/-/g, '');\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(date.getDate() + 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getWeeklyPeriodType = (formatYyyyMmDd, weekObj, fnFilter) => {\n  // Calculate the first date of an EPI year base on ISO standard  ( first week always contains 4th Jan )\n  const getEpiWeekStartDay = (year, startDayOfWeek) => {\n    const jan4 = new Date(year, 0, 4);\n    const jan4DayOfWeek = jan4.getDay();\n    const startDate = jan4;\n    const dayDiff = jan4DayOfWeek - startDayOfWeek;\n\n    if (dayDiff > 0) {\n      startDate.setDate(jan4.getDate() - dayDiff);\n    } else if (dayDiff < 0) {\n      startDate.setDate(jan4.getDate() - dayDiff);\n      startDate.setDate(startDate.getDate() - 7);\n    }\n\n    return startDate;\n  };\n\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = getEpiWeekStartDay(year, weekObj.startDay);\n    let week = 1;\n\n    while (date.getFullYear() <= year) {\n      const period = {};\n      period.startDate = formatYyyyMmDd(date);\n      period.iso = `${year}${weekObj.shortName}W${week}`;\n      period.id = period.iso;\n      date.setDate(date.getDate() + 6);\n      period.endDate = formatYyyyMmDd(date);\n      const weekNumber = week;\n      period.displayName = `${i18n.t('Week {{weekNumber}}', {\n        weekNumber\n      })} - ${period.startDate} - ${period.endDate}`; // if end date is Jan 4th or later, week belongs to next year\n\n      if (date.getFullYear() > year && date.getDate() >= 4) {\n        break;\n      }\n\n      periods.push(period);\n      date.setDate(date.getDate() + 1);\n      week += 1;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getBiWeeklyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`01 Jan ${year}`);\n    const day = date.getDay();\n    let biWeek = 1;\n\n    if (day <= 4) {\n      date.setDate(date.getDate() - (day - 1));\n    } else {\n      date.setDate(date.getDate() + (8 - day));\n    }\n\n    while (date.getFullYear() <= year) {\n      const period = {};\n      period.iso = `${year}BiW${biWeek}`;\n      period.id = period.iso;\n      period.startDate = formatYyyyMmDd(date);\n      date.setDate(date.getDate() + 13);\n      period.endDate = formatYyyyMmDd(date);\n      const biWeekNumber = biWeek;\n      period.displayName = `${i18n.t('Bi-Week {{biWeekNumber}}', {\n        biWeekNumber\n      })} - ${period.startDate} - ${period.endDate}`; // if end date is Jan 4th or later, biweek belongs to next year\n\n      if (date.getFullYear() > year && date.getDate() >= 4) {\n        break;\n      }\n\n      periods.push(period);\n      date.setDate(date.getDate() + 1);\n      biWeek += 1;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getMonthlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  const formatIso = date => {\n    const y = date.getFullYear();\n    let m = String(date.getMonth() + 1);\n    m = m.length < 2 ? `0${m}` : m;\n    return y + m;\n  };\n\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`31 Dec ${year}`);\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setDate(1);\n      period.startDate = formatYyyyMmDd(date);\n      const monthName = getMonthName(date.getMonth());\n      period.displayName = `${monthName} ${year}`;\n      period.iso = formatIso(date);\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(0);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Months are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getBiMonthlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`31 Dec ${year}`);\n    let index = 6;\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setDate(0);\n      date.setDate(1);\n      period.startDate = formatYyyyMmDd(date);\n      const monthStart = getMonthName(date.getMonth());\n      const monthEnd = getMonthName(date.getMonth() + 1);\n      const fullYear = date.getFullYear();\n      period.displayName = `${monthStart} - ${monthEnd} ${fullYear}`;\n      period.iso = `${year}0${index}B`;\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(0);\n      index--;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Bi-months are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getQuarterlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`31 Dec ${year}`);\n    let quarter = 4;\n\n    while (date.getFullYear() === year) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setDate(0);\n      date.setDate(0);\n      date.setDate(1);\n      period.startDate = formatYyyyMmDd(date);\n      const monthStart = getMonthName(date.getMonth());\n      const monthEnd = getMonthName(date.getMonth() + 2);\n      const fullYear = date.getFullYear();\n      period.displayName = `${monthStart} - ${monthEnd} ${fullYear}`;\n      period.iso = `${year}Q${quarter}`;\n      period.id = period.iso;\n      periods.push(period);\n      date.setDate(0);\n      quarter -= 1;\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Quarters are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getSixMonthlyPeriodType = fnFilter => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    let period = {};\n    period.startDate = `${year}-01-01`;\n    period.endDate = `${year}-06-30`;\n    period.displayName = `${getMonthName(0)} - ${getMonthName(5)} ${year}`;\n    period.iso = `${year}S1`;\n    period.id = period.iso;\n    periods.push(period);\n    period = {};\n    period.startDate = `${year}-07-01`;\n    period.endDate = `${year}-12-31`;\n    period.displayName = `${getMonthName(6)} - ${getMonthName(11)} ${year}`;\n    period.iso = `${year}S2`;\n    period.id = period.iso;\n    periods.push(period);\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getSixMonthlyAprilPeriodType = fnFilter => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    let period = {};\n    period.startDate = `${year}-04-01`;\n    period.endDate = `${year}-09-30`;\n    period.displayName = `${getMonthName(3)} - ${getMonthName(8)} ${year}`;\n    period.iso = `${year}AprilS1`;\n    period.id = period.iso;\n    periods.push(period);\n    period = {};\n    period.startDate = `${year}-10-01`;\n    period.endDate = `${year + 1}-03-31`;\n    period.displayName = `${getMonthName(9)} ${year} - ${getMonthName(2)} ${year + 1}`;\n    period.iso = `${year}AprilS2`;\n    period.id = period.iso;\n    periods.push(period);\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods.reverse() : periods;\n    return periods;\n  };\n};\n\nconst getYearlyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`31 Dec ${year}`);\n\n    while (year - date.getFullYear() < 10) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setMonth(0, 1);\n      period.startDate = formatYyyyMmDd(date);\n      const dateString = date.getFullYear().toString();\n      period.displayName = dateString;\n      period.iso = date.getFullYear().toString();\n      period.id = period.iso.toString();\n      periods.push(period);\n      date.setDate(0);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // Years are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialOctoberPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`30 Sep ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(9)} ${yearStart} - ${getMonthName(8)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}Oct`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialOctober periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialNovemberPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`31 Oct ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(10)} ${yearStart} - ${getMonthName(9)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}Nov`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialNovember periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialJulyPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`30 Jun ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(6)} ${yearStart} - ${getMonthName(5)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}July`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialJuly periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst getFinancialAprilPeriodType = (formatYyyyMmDd, fnFilter) => {\n  return config => {\n    let periods = [];\n    const offset = parseInt(config.offset, 10);\n    const isFilter = config.filterFuturePeriods;\n    const isReverse = config.reversePeriods;\n    const year = new Date(Date.now()).getFullYear() + offset;\n    const date = new Date(`31 Mar ${year + 1}`);\n\n    for (let i = 0; i < 10; i++) {\n      const period = {};\n      period.endDate = formatYyyyMmDd(date);\n      date.setYear(date.getFullYear() - 1);\n      date.setDate(date.getDate() + 1);\n      period.startDate = formatYyyyMmDd(date);\n      const yearStart = date.getFullYear();\n      const yearEnd = date.getFullYear() + 1;\n      period.displayName = `${getMonthName(3)} ${yearStart} - ${getMonthName(2)} ${yearEnd}`;\n      period.id = `${date.getFullYear()}April`;\n      periods.push(period);\n      date.setDate(date.getDate() - 1);\n    }\n\n    periods = isFilter ? fnFilter(periods) : periods;\n    periods = isReverse ? periods : periods.reverse(); // FinancialApril periods are collected backwards. If isReverse is true, then do nothing. Else reverse to correct order and return.\n\n    return periods;\n  };\n};\n\nconst formatYyyyMmDd = date => {\n  const y = date.getFullYear();\n  let m = String(date.getMonth() + 1);\n  let d = String(date.getDate());\n  m = m.length < 2 ? `0${m}` : m;\n  d = d.length < 2 ? `0${d}` : d;\n  return `${y}-${m}-${d}`;\n};\n\nconst filterFuturePeriods = periods => {\n  const array = [];\n  const now = new Date(Date.now());\n\n  for (let i = 0; i < periods.length; i++) {\n    if (new Date(periods[i].startDate) <= now) {\n      array.push(periods[i]);\n    }\n  }\n\n  return array;\n};\n\nexport const getFixedPeriodTypes = () => [{\n  type: DAILY,\n  regex: /^([0-9]{4})([0-9]{2})([0-9]{2})$/,\n  // YYYYMMDD\n  getPeriods: getDailyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Daily')\n}, {\n  type: WEEKLY,\n  regex: /^([0-9]{4})()W([0-9]{1,2})$/,\n  // YYYY\"W\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: '',\n    startDay: 1\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly')\n}, {\n  type: WEEKLY_WEDNESDAY,\n  regex: /^([0-9]{4})(Wed)W([0-9]{1,2})$/,\n  // YYYY\"WedW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Wed',\n    startDay: 3\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Wednesday)')\n}, {\n  type: WEEKLY_THURSDAY,\n  regex: /^([0-9]{4})(Thu)W([0-9]{1,2})$/,\n  // YYYY\"ThuW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Thu',\n    startDay: 4\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Thursday)')\n}, {\n  type: WEEKLY_SATURDAY,\n  regex: /^([0-9]{4})(Sat)W([0-9]{1,2})$/,\n  // YYYY\"SatW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Sat',\n    startDay: 6\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Saturday)')\n}, {\n  type: WEEKLY_SUNDAY,\n  regex: /^([0-9]{4})(Sun)W([0-9]{1,2})$/,\n  // YYYY\"SunW\"[1-53]\n  getPeriods: getWeeklyPeriodType(formatYyyyMmDd, {\n    shortName: 'Sun',\n    startDay: 7\n  }, filterFuturePeriods),\n  displayName: i18n.t('Weekly (Start Sunday)')\n}, {\n  type: BI_WEEKLY,\n  regex: /^([0-9]{4})BiW([0-9]{1,2})$/,\n  // YYYY\"BiW\"[1-27]\n  getPeriods: getBiWeeklyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Bi-weekly')\n}, {\n  type: MONTHLY,\n  regex: /^([0-9]{4})([0-9]{2})$/,\n  // YYYYMM\n  getPeriods: getMonthlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Monthly')\n}, {\n  type: BI_MONTHLY,\n  regex: /^([0-9]{4})([0-9]{2})B$/,\n  // YYYY0[1-6]\"B\"\n  getPeriods: getBiMonthlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Bi-monthly')\n}, {\n  type: QUARTERLY,\n  regex: /^([0-9]{4})Q([1234])$/,\n  // YYYY\"Q\"[1-4]\n  getPeriods: getQuarterlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Quarterly')\n}, {\n  type: SIX_MONTHLY,\n  regex: /^([0-9]{4})S([12])$/,\n  // YYYY\"S\"[1/2]\n  getPeriods: getSixMonthlyPeriodType(filterFuturePeriods),\n  displayName: i18n.t('Six-monthly')\n}, {\n  type: SIX_MONTHLY_APRIL,\n  regex: /^([0-9]{4})AprilS([12])$/,\n  // YYYY\"AprilS\"[1/2]\n  getPeriods: getSixMonthlyAprilPeriodType(filterFuturePeriods),\n  displayName: i18n.t('Six-monthly April')\n}, {\n  type: YEARLY,\n  regex: /^([0-9]{4})$/,\n  // YYYY\n  getPeriods: getYearlyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Yearly')\n}, {\n  type: FINANCIAL_NOV,\n  regex: /^([0-9]{4})Nov$/,\n  // YYYY\"Nov\"\n  getPeriods: getFinancialNovemberPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start November)')\n}, {\n  type: FINANCIAL_OCT,\n  regex: /^([0-9]{4})Oct$/,\n  // YYYY\"Oct\"\n  getPeriods: getFinancialOctoberPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start October)')\n}, {\n  type: FINANCIAL_JULY,\n  regex: /^([0-9]{4})July$/,\n  // YYYY\"July\"\n  getPeriods: getFinancialJulyPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start July)')\n}, {\n  type: FINANCIAL_APRIL,\n  regex: /^([0-9]{4})April$/,\n  // YYYY\"April\"\n  getPeriods: getFinancialAprilPeriodType(formatYyyyMmDd, filterFuturePeriods),\n  displayName: i18n.t('Financial year (Start April)')\n}];\nexport const getFixedPeriodType = type => getFixedPeriodTypes().find(option => option.type === type);\nexport const getYearOffsetFromNow = year => year - new Date(Date.now()).getFullYear();\nexport const getFixedPeriodsByTypeAndYear = (type, year) => {\n  const periodType = getFixedPeriodType(type);\n  const offset = getYearOffsetFromNow(year);\n  return periodType && Number.isInteger(offset) ? periodType.getPeriods({\n    offset\n  }) : undefined;\n};\nexport const parsePeriodId = (id, allowedTypes) => {\n  const periodTypes = allowedTypes ? getFixedPeriodTypes().filter(({\n    type\n  }) => allowedTypes.some(allowedType => allowedType === type)) : getFixedPeriodTypes();\n  let i = 0;\n  let periodType = undefined;\n  let match = undefined;\n\n  while (i < periodTypes.length && !match) {\n    periodType = periodTypes[i];\n    match = id.match(periodType.regex);\n    i++;\n  }\n\n  if (!match) {\n    return undefined;\n  }\n\n  const year = parseInt(match[1]);\n  const offset = getYearOffsetFromNow(year);\n  const periods = periodType.getPeriods({\n    offset\n  });\n  const period = periods.find(period => period.id === id);\n  return { ...period,\n\n    /*\n     * Add year and periodType so a parsed period code\n     * can be use for a multitude of purposes\n     */\n    year,\n    periodType\n  };\n};","import { Menu, MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useSelectionContext } from '../selection/index.js';\nimport { getFixedPeriodsByTypeAndYear } from './fixed-periods.js';\nimport classes from './period-menu.module.css';\n\nconst PeriodMenu = ({\n  periodType,\n  year\n}) => {\n  const {\n    selectPeriod\n  } = useSelectionContext();\n  const periods = getFixedPeriodsByTypeAndYear(periodType, year);\n\n  if (!periods) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Menu, {\n    dense: true,\n    className: classes.menu\n  }, periods.map(period => /*#__PURE__*/React.createElement(MenuItem, {\n    key: period.id,\n    label: period.displayName,\n    onClick: () => selectPeriod(period)\n  })));\n};\n\nPeriodMenu.propTypes = {\n  periodType: PropTypes.string,\n  year: PropTypes.number\n};\nexport { PeriodMenu };","import { Button, IconArrowRight24, IconArrowLeft24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './year-navigator.module.css';\nconst currentYear = new Date().getFullYear();\nconst startYear = new Date(0).getFullYear();\n\nconst YearNavigator = ({\n  year,\n  onYearChange\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: classes.container\n}, /*#__PURE__*/React.createElement(Button, {\n  disabled: year === startYear,\n  onClick: () => onYearChange(year - 1),\n  icon: /*#__PURE__*/React.createElement(IconArrowLeft24, null)\n}), /*#__PURE__*/React.createElement(\"span\", {\n  className: classes.year\n}, year), /*#__PURE__*/React.createElement(Button, {\n  disabled: year === currentYear,\n  onClick: () => onYearChange(year + 1),\n  icon: /*#__PURE__*/React.createElement(IconArrowRight24, null)\n}));\n\nYearNavigator.propTypes = {\n  year: PropTypes.number.isRequired,\n  onYearChange: PropTypes.func\n};\nexport { YearNavigator };","import i18n from '@dhis2/d2-i18n';\nimport React, { useEffect, useState } from 'react';\nimport { ContextSelect } from '../context-select/index.js';\nimport { useSelectionContext } from '../selection/index.js';\nimport { PeriodMenu } from './period-menu.js';\nimport { YearNavigator } from './year-navigator.js';\nconst PERIOD = 'PERIOD';\n\nconst PeriodSelect = () => {\n  const {\n    period,\n    workflow,\n    selectPeriod,\n    openedSelect,\n    setOpenedSelect\n  } = useSelectionContext();\n  const [year, setYear] = useState(period.year || new Date().getFullYear());\n  const open = openedSelect === PERIOD;\n  const value = period.displayName || i18n.t('Choose a period');\n  useEffect(() => {\n    if (period.year) {\n      setYear(period.year);\n    }\n  }, [period]);\n  return /*#__PURE__*/React.createElement(ContextSelect, {\n    prefix: i18n.t('Period'),\n    value: value,\n    open: open,\n    disabled: !workflow.id,\n    onOpen: () => setOpenedSelect(PERIOD),\n    onClose: () => setOpenedSelect(''),\n    requiredValuesMessage: i18n.t('Choose a workflow first')\n  }, /*#__PURE__*/React.createElement(YearNavigator, {\n    year: year,\n    onYearChange: year => {\n      selectPeriod({});\n      setYear(year);\n    }\n  }), /*#__PURE__*/React.createElement(PeriodMenu, {\n    periodType: workflow.periodType,\n    year: year\n  }));\n};\n\nexport { PeriodSelect };","import { parsePeriodId } from '../period-select/index.js';\nexport const initialValues = (query, workflows) => {\n  const workflow = initialWorkflowValue(workflows, query.wf);\n  const period = initialPeriodValue(query.pe, workflow);\n  const orgUnit = initialOrgUnitValue(query.ou);\n  return {\n    workflow,\n    period,\n    orgUnit\n  };\n};\nexport const initialWorkflowValue = (workflows, workflowId) => {\n  if (workflowId) {\n    /*\n     * Auto select workflow with query param id\n     * default to empty object if `find` returns undefined in case the\n     * workflow with the id from the url is not available to the user\n     */\n    return workflows.find(workflow => workflow.id === workflowId) || {};\n  }\n\n  if (workflows.length === 1) {\n    // auto-select if user only has one workflow\n    return workflows[0];\n  }\n\n  return {};\n};\n\nconst initialPeriodValue = (periodId, initialWorkflow) => {\n  if (!periodId || !initialWorkflow.id) {\n    return {};\n  }\n\n  return parsePeriodId(periodId, [initialWorkflow.periodType]) || {};\n};\n\nconst initialOrgUnitValue = orgUnitId => {\n  return orgUnitId ? {\n    id: orgUnitId\n  } : {};\n};","import { PropTypes } from '@dhis2/prop-types';\nimport React, { useEffect, useReducer } from 'react';\nimport { useQueryParams, StringParam } from 'use-query-params';\nimport { useCurrentUser } from '../../current-user/index.js';\nimport { initialValues, initialWorkflowValue } from './initial-values.js';\nimport { SelectionContext } from './selection-context.js';\nconst ACTIONS = {\n  SET_OPENED_SELECT: 'SET_OPENED_SELECT',\n  CLEAR_ALL: 'CLEAR_ALL',\n  SELECT_WORKFLOW: 'SELECT_WORKFLOW',\n  SELECT_PERIOD: 'SELECT_PERIOD',\n  SELECT_ORG_UNIT: 'SELECT_ORG_UNIT'\n};\n\nconst reducer = (state, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ACTIONS.SET_OPENED_SELECT:\n      return { ...state,\n        openedSelect: payload.openedSelect\n      };\n\n    case ACTIONS.CLEAR_ALL:\n      return {\n        openedSelect: '',\n        workflow: payload.workflow,\n        period: {},\n        orgUnit: {}\n      };\n\n    case ACTIONS.SELECT_WORKFLOW:\n      return {\n        openedSelect: '',\n        workflow: payload.workflow,\n        period: {},\n        orgUnit: {}\n      };\n\n    case ACTIONS.SELECT_PERIOD:\n      return { ...state,\n\n        /*\n         * Close dropdown only if selecting a period,\n         * not when unsetting it when the year changes\n         */\n        openedSelect: payload.period.id ? '' : state.openedSelect,\n        period: payload.period,\n        orgUnit: {}\n      };\n\n    case ACTIONS.SELECT_ORG_UNIT:\n      return { ...state,\n        openedSelect: '',\n        orgUnit: payload.orgUnit\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst SelectionProvider = ({\n  children\n}) => {\n  const [query, setQuery] = useQueryParams({\n    wf: StringParam,\n    pe: StringParam,\n    ou: StringParam\n  });\n  const {\n    dataApprovalWorkflows\n  } = useCurrentUser();\n  const [{\n    openedSelect,\n    workflow,\n    period,\n    orgUnit\n  }, dispatch] = useReducer(reducer, {\n    openedSelect: '',\n    ...initialValues(query, dataApprovalWorkflows)\n  });\n  const providerValue = {\n    workflow,\n    period,\n    orgUnit,\n    openedSelect,\n    clearAll: () => dispatch({\n      type: ACTIONS.CLEAR_ALL,\n      payload: {\n        workflow: initialWorkflowValue(dataApprovalWorkflows)\n      }\n    }),\n    setOpenedSelect: fieldName => dispatch({\n      type: ACTIONS.SET_OPENED_SELECT,\n      payload: {\n        openedSelect: fieldName\n      }\n    }),\n    selectWorkflow: workflow => dispatch({\n      type: ACTIONS.SELECT_WORKFLOW,\n      payload: {\n        workflow\n      }\n    }),\n    selectPeriod: period => dispatch({\n      type: ACTIONS.SELECT_PERIOD,\n      payload: {\n        period\n      }\n    }),\n    selectOrgUnit: orgUnit => dispatch({\n      type: ACTIONS.SELECT_ORG_UNIT,\n      payload: {\n        orgUnit\n      }\n    })\n  };\n  useEffect(() => {\n    setQuery({\n      wf: workflow.id,\n      pe: period.id,\n      ou: orgUnit.id\n    },\n    /*\n     * Browser navigation is broken in the current implementation of\n     * this provider, but deep linking does work. Until a fix is found\n     * for browser navigation we stick to `UrlUpdateType` `replace`,\n     * which effectively disables navigating to the previous query\n     * param string.\n     */\n    'replace');\n  }, [workflow, period, orgUnit]);\n  return /*#__PURE__*/React.createElement(SelectionContext.Provider, {\n    value: providerValue\n  }, children);\n};\n\nSelectionProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { SelectionProvider };","import { useContext } from 'react';\nimport { SelectionContext } from './selection-context.js';\nexport const useSelectionContext = () => useContext(SelectionContext);","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React from 'react';\nimport { useSelectionContext } from '../selection/index.js';\nimport classes from './clear-all-button.module.css';\n\nconst ClearAllButton = () => {\n  const {\n    clearAll,\n    period,\n    orgUnit\n  } = useSelectionContext();\n  return period.id || orgUnit.id ? /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    secondary: true,\n    onClick: clearAll\n  }, i18n.t('Clear selections')) : null;\n};\n\nexport { ClearAllButton };","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { ContextSelect } from '../context-select/index.js';\nimport { useSelectionContext } from '../selection/index.js';\nconst ORG_UNIT = 'ORG_UNIT';\n\nconst OrgUnitSelect = () => {\n  const {\n    orgUnit\n    /*, setOrgUnit */\n    ,\n    workflow,\n    period,\n    openedSelect,\n    setOpenedSelect\n  } = useSelectionContext();\n  const open = openedSelect === ORG_UNIT;\n  const value = orgUnit.displayName || i18n.t('Choose an organisation unit');\n  const requiredValuesMessage = workflow.id ? i18n.t('Choose a period first') : i18n.t('Choose a workflow and period first');\n  return /*#__PURE__*/React.createElement(ContextSelect, {\n    prefix: i18n.t('Organisation Unit'),\n    value: value,\n    open: open,\n    disabled: !(workflow.id && period.id),\n    onOpen: () => setOpenedSelect(ORG_UNIT),\n    onClose: () => setOpenedSelect(''),\n    requiredValuesMessage: requiredValuesMessage\n  }, /*#__PURE__*/React.createElement(\"pre\", null, \"Org Unit picker placeholder\"));\n};\n\nexport { OrgUnitSelect };","import { MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './workflow-select-option.module.css';\n\nconst WorkflowSelectOption = ({\n  name,\n  periodType,\n  active,\n  onClick\n}) => {\n  const label = /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.option\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.title\n  }, name), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.subtitle\n  }, periodType || 'UNAVAILABLE'));\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: classes.bordered,\n    active: active,\n    onClick: onClick,\n    label: label\n  });\n};\n\nWorkflowSelectOption.propTypes = {\n  name: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  periodType: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport { WorkflowSelectOption };","import i18n from '@dhis2/d2-i18n';\nimport { Menu } from '@dhis2/ui';\nimport React from 'react';\nimport { useCurrentUser } from '../../current-user/index.js';\nimport { ContextSelect } from '../context-select/index.js';\nimport { useSelectionContext } from '../selection/index.js';\nimport { WorkflowSelectOption } from './workflow-select-option.js';\nimport classes from './workflow-select.module.css';\nconst WORKFLOW = 'WORKFLOW';\n\nconst WorkflowSelect = () => {\n  const {\n    dataApprovalWorkflows\n  } = useCurrentUser();\n  const {\n    workflow: selectedWorkflow,\n    selectWorkflow,\n    openedSelect,\n    setOpenedSelect\n  } = useSelectionContext();\n  const open = openedSelect === WORKFLOW;\n  const value = selectedWorkflow.displayName || i18n.t('Choose a workflow');\n  return /*#__PURE__*/React.createElement(ContextSelect, {\n    prefix: i18n.t('Workflow'),\n    value: value,\n    open: open,\n    onOpen: () => setOpenedSelect(WORKFLOW),\n    onClose: () => setOpenedSelect('')\n  }, dataApprovalWorkflows.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, i18n.t('No workflows found. None may exist, or you may not have access to any.')) : /*#__PURE__*/React.createElement(Menu, null, dataApprovalWorkflows.map(workflow => /*#__PURE__*/React.createElement(WorkflowSelectOption, {\n    key: workflow.id,\n    name: workflow.displayName,\n    periodType: workflow.periodType,\n    active: workflow.id === selectedWorkflow.id,\n    onClick: () => selectWorkflow(workflow)\n  }))));\n};\n\nexport { WorkflowSelect, WORKFLOW };","import React from 'react';\nimport { ClearAllButton } from './clear-all-button/index.js';\nimport { OrgUnitSelect } from './org-unit-select/index.js';\nimport { PeriodSelect } from './period-select/index.js';\nimport { SelectionProvider } from './selection/index.js';\nimport { WorkflowSelect } from './workflow-select/index.js';\n\nconst TopBar = () => /*#__PURE__*/React.createElement(SelectionProvider, null, /*#__PURE__*/React.createElement(WorkflowSelect, null), /*#__PURE__*/React.createElement(PeriodSelect, null), /*#__PURE__*/React.createElement(OrgUnitSelect, null), /*#__PURE__*/React.createElement(ClearAllButton, null));\n\nexport { TopBar };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './layout.module.css';\n\nconst LayoutSection = ({\n  children,\n  className\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: className\n}, children);\n\nLayoutSection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\n\nconst Container = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.container\n}));\n\nconst Top = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.top\n}));\n\nconst Content = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.content\n}));\n\nconst Bottom = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.bottom\n}));\n\nexport const Layout = {\n  Container,\n  Top,\n  Content,\n  Bottom\n};","import { App } from './app.js';\nexport default App;","import { CssVariables } from '@dhis2/ui';\nimport React from 'react';\nimport { QueryParamProvider } from 'use-query-params';\nimport { AuthWall } from '../auth/index.js';\nimport { BottomBar } from '../bottom-bar/index.js';\nimport { CurrentUserProvider } from '../current-user/index.js';\nimport { DataWorkspace } from '../data-workspace/index.js';\nimport { TopBar } from '../top-bar/index.js';\nimport { Layout } from './layout.js';\n\nconst App = () => /*#__PURE__*/React.createElement(QueryParamProvider, null, /*#__PURE__*/React.createElement(CssVariables, {\n  spacers: true,\n  colors: true,\n  theme: true\n}), /*#__PURE__*/React.createElement(CurrentUserProvider, null, /*#__PURE__*/React.createElement(AuthWall, null, /*#__PURE__*/React.createElement(Layout.Container, null, /*#__PURE__*/React.createElement(Layout.Top, null, /*#__PURE__*/React.createElement(TopBar, null)), /*#__PURE__*/React.createElement(Layout.Content, null, /*#__PURE__*/React.createElement(DataWorkspace, null)), /*#__PURE__*/React.createElement(Layout.Bottom, null, /*#__PURE__*/React.createElement(BottomBar, null))))));\n\nexport { App };"],"sourceRoot":""}